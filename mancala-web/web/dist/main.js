"use strict";(()=>{var eo=Object.create;var oi=Object.defineProperty;var Hi=Object.getOwnPropertyDescriptor;var no=Object.getOwnPropertyNames;var ao=Object.getPrototypeOf,io=Object.prototype.hasOwnProperty;var Gn=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports);var uo=(a,n,c,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let y of no(n))!io.call(a,y)&&y!==c&&oi(a,y,{get:()=>n[y],enumerable:!(f=Hi(n,y))||f.enumerable});return a};var La=(a,n,c)=>(c=a!=null?eo(ao(a)):{},uo(n||!a||!a.__esModule?oi(c,"default",{value:a,enumerable:!0}):c,a));var qa=(a,n,c,f)=>{for(var y=f>1?void 0:f?Hi(n,c):n,$=a.length-1,I;$>=0;$--)(I=a[$])&&(y=(f?I(n,c,y):I(y))||y);return f&&y&&oi(n,c,y),y};var Kn=Gn((si,ki)=>{typeof ArrayBuffer.isView>"u"&&(ArrayBuffer.isView=function(a){return a!=null&&a.__proto__!=null&&a.__proto__.__proto__===Int8Array.prototype.__proto__});typeof Math.imul>"u"&&(Math.imul=function(n,c){return(n&4294901760)*(c&65535)+(n&65535)*(c|0)|0});(function(a,n){typeof define=="function"&&define.amd?define(["exports"],n):typeof si=="object"?n(ki.exports):a["kotlin-kotlin-stdlib-js-ir"]=n(typeof this["kotlin-kotlin-stdlib-js-ir"]>"u"?{}:this["kotlin-kotlin-stdlib-js-ir"])})(si,function(a){"use strict";var n=Math.imul,c=ArrayBuffer.isView;C(xr,"Collection",an),C(mt,"AbstractCollection",z,E,[xr]),C(Vt,"IteratorImpl",z),C(at,"Companion",vr),C(Dr,"List",an,E,[xr]),C(et,"AbstractList",z,mt,[mt,Dr]),C(Et,"EmptyList",vr,E,[Dr]),C(tr,"ArrayAsCollection",z,E,[xr]),C(Ur,"EmptyIterator",vr),C(Or,"IntIterator",z),C(_t,"ReversedListReadOnly",z,et),C(l,E,z),C(m,"TransformingSequence",z),C(F,"Companion",vr),C(it,"IntProgression",z),C(k,"IntRange",z,it),C(tt,"IntProgressionIterator",z,Or),C(K,"Companion",vr),C(oe,E,z),C(De,"DelimitedRangesSequence",z),C(Rr,"Pair",z),C(ta,"Companion",vr),C(At,"UInt",z),C(na,"Companion",vr),C(R,"UIntProgression",z),C(S,"UIntRange",z,R),C(j,"Companion",vr),C(X,"UIntProgressionIterator",z),C(or,"CharSequence",an),C(ct,"Number",z),C(Dt,"Unit",vr),C(xt,"IntCompanionObject",vr),C(Wt,"AbstractMutableCollection",z,mt,[mt,xr]),C(lr,"IteratorImpl",z),C(wt,"AbstractMutableList",z,Wt,[Wt,Dr,xr]),C(ht,"ArrayList",z,wt,[wt,Dr,xr]),C($r,"BaseOutput",z),C(Zr,"NodeJsOutput",z,$r),C(Mr,"BufferedOutput",z,$r),C(yr,"BufferedOutputToConsoleLog",z,Mr),C(ne,"KProperty1",an),C(Jr,"KMutableProperty1",an,E,[ne]),C(ir,"StringBuilder",z,E,[or]),C(Sn,"Companion",vr),C(Gt,"Char",z),C(En,"Companion",vr),C(Xr,"Enum",z),C(Me,E,z),C(ma,"Companion",vr),C(G,"Long",z,ct),C(on,"Exception",z,Error),C(Sr,"RuntimeException",z,on),C(Sa,"IllegalArgumentException",z,Sr),C(Ea,"IndexOutOfBoundsException",z,Sr),C(Ca,"IllegalStateException",z,Sr),C(cn,"NoSuchElementException",z,Sr),C(Na,"UnsupportedOperationException",z,Sr),C(Aa,"ArithmeticException",z,Sr),C(Ma,"NoWhenBranchMatchedException",z,Sr),C(xa,"ClassCastException",z,Sr),C(Ta,"UninitializedPropertyAccessException",z,Sr);function f(t){return t.length-1|0}function y(t,r,e,i,u,o,s){return r=r===E?", ":r,e=e===E?"":e,i=i===E?"":i,u=u===E?-1:u,o=o===E?"...":o,s=s===E?null:s,$(t,_e(),r,e,i,u,o,s).toString()}function $(t,r,e,i,u,o,s,h){e=e===E?", ":e,i=i===E?"":i,u=u===E?"":u,o=o===E?-1:o,s=s===E?"...":s,h=h===E?null:h,r.a(i);var d=0,b=t,x=0,O=b.length;t:for(;x<O;){var w=b[x];if(x=x+1|0,d=d+1|0,d>1&&r.a(e),o<0||d<=o)Nt(r,w,h);else break t}return o>=0&&d>o&&r.a(s),r.a(u),r}function I(t){var r;if(r=t.length===0,r)throw ln("Array is empty.");return t[0]}function Y(t,r,e,i,u,o,s){return r=r===E?", ":r,e=e===E?"":e,i=i===E?"":i,u=u===E?-1:u,o=o===E?"...":o,s=s===E?null:s,B(t,_e(),r,e,i,u,o,s).toString()}function B(t,r,e,i,u,o,s,h){e=e===E?", ":e,i=i===E?"":i,u=u===E?"":u,o=o===E?-1:o,s=s===E?"...":s,h=h===E?null:h,r.a(i);var d=0,b=t.b();t:for(;b.c();){var x=b.d();if(d=d+1|0,d>1&&r.a(e),o<0||d<=o)Nt(r,x,h);else break t}return o>=0&&d>o&&r.a(s),r.a(u),r}function p(t){if(t.e())throw ln("List is empty.");return t.f(0)}function rt(t){var r=t.b();if(!r.c())return null;for(var e=r.d();r.c();){var i=r.d();xe(e,i)>0&&(e=i)}return e}function vt(t){var r=t;if(qe(r,Dr))return N(t);var e=t.b();if(!e.c())throw ln("Collection is empty.");var i=e.d();if(e.c())throw Xt("Collection has more than one element.");return i}function N(t){var r=t.g(),e;switch(r){case 0:throw ln("List is empty.");case 1:e=t.f(0);break;default:throw Xt("List has more than one element.")}return e}function Ct(t,r){return r<=nr().MIN_VALUE?J().h_1:de(t,r-1|0)}function V(t,r){return Z().i(t,r,-1)}function Tt(t,r,e){if(r>e)throw Xt("Cannot coerce value to an empty range: maximum "+e+" is less than minimum "+r+".");return t<r?r:t>e?e:t}function Q(t,r){return t<r?r:t}function ur(t,r){return t>r?r:t}function Qt(t){return Er(St(t))}function ut(t,r){return new m(t,r)}function St(t){return Ft(t,dr())}function Ft(t,r){for(var e=t.b();e.c();){var i=e.d();r.j(i)}return r}function pt(t,r){var e=r>=0;if(!e){var i;i="Requested character count "+r+" is less than zero.";var u=i;throw Xt(br(u))}var o,s=ur(r,t.length),h;return h=t,o=h.substring(s),o}function $t(t){for(var r=0,e=t,i=0,u=e.length;i<u;){var o=e[i].k_1;i=i+1|0;var s,h=r;s=h+o|0,r=s}return r}function Lr(t){return function(r){return r===t?"(this Collection)":Cn(r)}}function mt(){}v(mt).e=function(){return this.g()===0},v(mt).toString=function(){return Y(this,", ","[","]",E,E,Lr(this))},v(mt).toArray=function(){return dt(this)};function Vt(t){this.m_1=t,this.l_1=0}v(Vt).c=function(){return this.l_1<this.m_1.g()},v(Vt).d=function(){if(!this.c())throw $e();var t=this,r=t.l_1;return t.l_1=r+1|0,this.m_1.f(r)};function at(){Rt=this}v(at).n=function(t,r){if(t<0||t>=r)throw un("index: "+t+", size: "+r)},v(at).o=function(t,r){if(t<0||t>r)throw un("index: "+t+", size: "+r)},v(at).p=function(t,r){if(t.g()!==r.g())return!1;for(var e=r.b(),i=t.b();i.c();){var u=i.d(),o=e.d();if(!zr(u,o))return!1}return!0};var Rt;function W(){return Rt==null&&new at,Rt}function et(){W(),mt.call(this)}v(et).b=function(){return new Vt(this)},v(et).equals=function(t){return t===this?!0:t!=null&&qe(t,Dr)?W().p(this,t):!1};function Ot(t){return t.g()-1|0}function A(t){return t.length>0?Ai(t):ot()}function ot(){return Hr()}function hr(t){return t.length===0?dr():Se(new tr(t,!0))}function Et(){qr=this,this.q_1=new G(-1478467534,-1720727600)}v(Et).equals=function(t){var r;return t!=null&&qe(t,Dr)?r=t.e():r=!1,r},v(Et).toString=function(){return"[]"},v(Et).g=function(){return 0},v(Et).e=function(){return!0},v(Et).f=function(t){throw un("Empty list doesn't contain element at index "+t+".")},v(Et).b=function(){return te()};var qr;function Hr(){return qr==null&&new Et,qr}function tr(t,r){this.r_1=t,this.s_1=r}v(tr).g=function(){return this.r_1.length},v(tr).e=function(){var t,r=this.r_1;return t=r.length===0,t},v(tr).b=function(){return ca(this.r_1)};function Ur(){Pr=this}v(Ur).c=function(){return!1},v(Ur).d=function(){throw $e()};var Pr;function te(){return Pr==null&&new Ur,Pr}function ye(){throw Ti("Index overflow has happened.")}function Er(t){var r=t.g();switch(r){case 0:return ot();case 1:return ar(t.f(0));default:return t}}function re(t){return t.length===0?dr():Se(new tr(t,!0))}function Cr(t,r){var e;return qe(t,xr)?e=t.g():e=r,e}function Or(){}v(Or).d=function(){return this.t()};function rr(t){return new _t(t)}function _t(t){et.call(this),this.u_1=t}v(_t).g=function(){return this.u_1.g()},v(_t).f=function(t){return this.u_1.f(we(this,t))};function we(t,r){var e;if(0<=r&&r<=Ot(t))e=Ot(t)-r|0;else throw un("Element index "+r+" must be in range ["+de(0,Ot(t))+"].");return e}function l(t){this.w_1=t,this.v_1=t.x_1.b()}v(l).d=function(){return this.w_1.y_1(this.v_1.d())},v(l).c=function(){return this.v_1.c()};function m(t,r){this.x_1=t,this.y_1=r}v(m).b=function(){return new l(this)};function M(t,r,e){var i;if(e>0)i=t>=r?r:r-U(r,t,e)|0;else if(e<0)i=t<=r?r:r+U(t,r,-e|0)|0;else throw Xt("Step is zero.");return i}function U(t,r,e){return P(P(t,e)-P(r,e)|0,e)}function P(t,r){var e=t%r|0;return e>=0?e:e+r|0}function F(){H=this,this.h_1=new k(1,0)}var H;function J(){return H==null&&new F,H}function k(t,r){J(),it.call(this,t,r,1)}v(k).c1=function(){return this.d1_1},v(k).g1=function(){return this.e1_1},v(k).e=function(){return this.d1_1>this.e1_1},v(k).equals=function(t){var r;return t instanceof k?r=this.e()&&t.e()?!0:this.d1_1===t.d1_1?this.e1_1===t.e1_1:!1:r=!1,r},v(k).toString=function(){return""+this.d1_1+".."+this.e1_1};function tt(t,r,e){Or.call(this),this.h1_1=e,this.i1_1=r,this.j1_1=this.h1_1>0?t<=r:t>=r,this.k1_1=this.j1_1?t:this.i1_1}v(tt).c=function(){return this.j1_1},v(tt).t=function(){var t=this.k1_1;if(t===this.i1_1){if(!this.j1_1)throw $e();this.j1_1=!1}else{var r=this;r.k1_1=r.k1_1+this.h1_1|0}return t};function K(){L=this}v(K).i=function(t,r,e){return new it(t,r,e)};var L;function Z(){return L==null&&new K,L}function it(t,r,e){if(Z(),e===0)throw Xt("Step must be non-zero.");if(e===nr().MIN_VALUE)throw Xt("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.d1_1=t,this.e1_1=M(t,r,e),this.f1_1=e}v(it).b=function(){return new tt(this.d1_1,this.e1_1,this.f1_1)},v(it).e=function(){return this.f1_1>0?this.d1_1>this.e1_1:this.d1_1<this.e1_1},v(it).equals=function(t){var r;return t instanceof it?r=this.e()&&t.e()?!0:this.d1_1===t.d1_1&&this.e1_1===t.e1_1?this.f1_1===t.f1_1:!1:r=!1,r},v(it).toString=function(){return this.f1_1>0?""+this.d1_1+".."+this.e1_1+" step "+this.f1_1:""+this.d1_1+" downTo "+this.e1_1+" step "+(-this.f1_1|0)};function Nt(t,r,e){e!=null?t.a(e(r)):r==null||ei(r)?t.a(r):r instanceof Gt?t.m1(r.l1_1):t.a(Cn(r))}function Pt(t,r,e){if(e=e===E?!1:e,zr(new Gt(t),new Gt(r)))return!0;if(!e)return!1;var i=ae(t),u=ae(r),o;if(zr(new Gt(i),new Gt(u)))o=!0;else{var s,h,d,b,x=ke(i);b=x;var O=b.toLowerCase();d=O,h=d,s=wr(h,0);var w=new Gt(s),q,nt,It,Kt,Ht=ke(u);Kt=Ht;var _r=Kt.toLowerCase();It=_r,nt=It,q=wr(nt,0),o=zr(w,new Gt(q))}return o}function Lt(t){return jt(t,"")}function jt(t,r){r=r===E?"":r;for(var e=Re(t),i,u,o,s=dr(),h=e.b();h.c();){var d=h.d(),b,x=d;b=!Ke(x),b&&s.j(d)}o=s,u=o;for(var O=u,w,q=cr(Cr(O,10)),nt=O.b();nt.c();){var It=nt.d();q.j(pr(It))}w=q,i=w;for(var Kt=rt(i),Ht=Kt??0,_r,jn=t.length+n(r.length,e.g())|0,Rn=jr(r),Bn=Ot(e),Dn,fn,zn=dr(),Wn=0,Pi=e.b();Pi.c();){var ai=Pi.d(),ji=Wn;Wn=ji+1|0;var Ri=sr(ji),Bi,ii;if((Ri===0||Ri===Bn)&&Ke(ai))ii=null;else{var Di;Di=pt(ai,Ht);var zi=Di,ui;if(zi==null)ui=null;else{var Wi;Wi=Rn(zi),ui=Wi}var Gi=ui;ii=Gi??ai}Bi=ii;var Ki=Bi;if(Ki!=null){var ro;zn.j(Ki),ro=Yt()}}return fn=zn,Dn=fn,_r=B(Dn,Ae(jn),`
`).toString(),_r}function pr(t){var r,e;t:{var i=0,u=bt(t)-1|0;if(i<=u)do{var o=i;i=i+1|0;var s,h=wr(t,o);if(s=!he(h),s){e=o;break t}}while(i<=u);e=-1}var d=e,b;return b=d===-1?t.length:d,r=b,r}function jr(t){var r,e;return e=bt(t)===0,e?r=mr:r=ue(t),r}function mr(t){return t}function ue(t){return function(r){return t+r}}function kr(t){return bt(t)-1|0}function je(t,r,e){return e=e===E?32:e,br(pn(ei(t)?t:Jt(),r,e))}function hn(t,r,e){return e=e===E?32:e,br(ee(ei(t)?t:Jt(),r,e))}function pn(t,r,e){if(e=e===E?32:e,r<0)throw Xt("Desired length "+r+" is less than zero.");if(r<=bt(t))return Xe(t,0,bt(t));var i=Ae(r),u=1,o=r-bt(t)|0;if(u<=o)do{var s=u;u=u+1|0,i.m1(e)}while(s!==o);return i.a(t),i}function ee(t,r,e){if(e=e===E?32:e,r<0)throw Xt("Desired length "+r+" is less than zero.");if(r<=bt(t))return Xe(t,0,bt(t));var i=Ae(r);i.a(t);var u=1,o=r-bt(t)|0;if(u<=o)do{var s=u;u=u+1|0,i.m1(e)}while(s!==o);return i}function Re(t){return Qt(mn(t))}function mn(t){return Xn(t,[`\r
`,`
`,"\r"])}function Xn(t,r,e,i){e=e===E?!1:e,i=i===E?0:i;var u=Qn(t,r,E,e,i);return ut(u,Wa(t))}function Yr(t,r){return br(Xe(t,r.c1(),r.g1()+1|0))}function Qn(t,r,e,i,u){e=e===E?0:e,i=i===E?!1:i,u=u===E?0:u,Fn(u);var o=Ai(r);return new De(t,e,u,Bt(o,i))}function Fn(t){var r=t>=0,e;if(!r){var i;i="Limit must be non-negative, but was "+t;var u=i;throw Xt(br(u))}return e}function Be(t){if(t.q1_1<0)t.o1_1=0,t.r1_1=null;else{var r,e;if(t.t1_1.w1_1>0){var i=t;i.s1_1=i.s1_1+1|0,e=i.s1_1>=t.t1_1.w1_1}else e=!1;if(e?r=!0:r=t.q1_1>bt(t.t1_1.u1_1),r)t.r1_1=de(t.p1_1,kr(t.t1_1.u1_1)),t.q1_1=-1;else{var u=t.t1_1.x1_1(t.t1_1.u1_1,t.q1_1);if(u==null)t.r1_1=de(t.p1_1,kr(t.t1_1.u1_1)),t.q1_1=-1;else{var o=u,s=o.a2(),h=o.b2();t.r1_1=Ct(t.p1_1,s),t.p1_1=s+h|0,t.q1_1=t.p1_1+(h===0?1:0)|0}}t.o1_1=1}}function oe(t){this.t1_1=t,this.o1_1=-1,this.p1_1=Tt(t.v1_1,0,bt(t.u1_1)),this.q1_1=this.p1_1,this.r1_1=null,this.s1_1=0}v(oe).d=function(){if(this.o1_1===-1&&Be(this),this.o1_1===0)throw $e();var t=this.r1_1,r=t instanceof k?t:Jt();return this.r1_1=null,this.o1_1=-1,r},v(oe).c=function(){return this.o1_1===-1&&Be(this),this.o1_1===1};function De(t,r,e,i){this.u1_1=t,this.v1_1=r,this.w1_1=e,this.x1_1=i}v(De).b=function(){return new oe(this)};function yt(t,r,e,i,u){if(!i&&r.g()===1){var o=vt(r),s=u?gn(t,o,e):Da(t,o,e);return s<0?null:se(s,o)}var h=u?V(ur(e,kr(t)),0):de(Q(e,0),bt(t));if(typeof t=="string"){var d=h.d1_1,b=h.e1_1,x=h.f1_1;if(x>0&&d<=b||(x<0?b<=d:!1))do{var O=d;d=d+x|0;var w;t:{for(var q=r.b();q.c();){var nt=q.d(),It;if(It=pe(nt,0,t,O,nt.length,i),It){w=nt;break t}}w=null}var Kt=w;if(Kt!=null)return se(O,Kt)}while(O!==b)}else{var Ht=h.d1_1,_r=h.e1_1,jn=h.f1_1;if(jn>0&&Ht<=_r||(jn<0?_r<=Ht:!1))do{var Rn=Ht;Ht=Ht+jn|0;var Bn;t:{for(var Dn=r.b();Dn.c();){var fn=Dn.d(),zn;if(zn=dn(fn,0,t,Rn,fn.length,i),zn){Bn=fn;break t}}Bn=null}var Wn=Bn;if(Wn!=null)return se(Rn,Wn)}while(Rn!==_r)}return null}function Da(t,r,e,i){e=e===E?0:e,i=i===E?!1:i;var u,o;if(i?o=!0:o=typeof t!="string",o)u=Vn(t,r,e,bt(t),i);else{var s,h=t,d;d=h,s=d.indexOf(r,e),u=s}return u}function gn(t,r,e,i){e=e===E?kr(t):e,i=i===E?!1:i;var u,o;if(i?o=!0:o=typeof t!="string",o)u=Vn(t,r,e,0,i,!0);else{var s,h=t,d;d=h,s=d.lastIndexOf(r,e),u=s}return u}function dn(t,r,e,i,u,o){if(i<0||r<0||r>(bt(t)-u|0)||i>(bt(e)-u|0))return!1;var s=0;if(s<u)do{var h=s;if(s=s+1|0,!Pt(wr(t,r+h|0),wr(e,i+h|0),o))return!1}while(s<u);return!0}function Vn(t,r,e,i,u,o){o=o===E?!1:o;var s=o?V(ur(e,kr(t)),Q(i,0)):de(Q(e,0),ur(i,bt(t))),h;if(typeof t=="string"?h=typeof r=="string":h=!1,h){var d=s.d1_1,b=s.e1_1,x=s.f1_1;if(x>0&&d<=b||(x<0?b<=d:!1))do{var O=d;if(d=d+x|0,pe(r,0,t,O,bt(r),u))return O}while(O!==b)}else{var w=s.d1_1,q=s.e1_1,nt=s.f1_1;if(nt>0&&w<=q||(nt<0?q<=w:!1))do{var It=w;if(w=w+nt|0,dn(r,0,t,It,bt(r),u))return It}while(It!==q)}return-1}function za(t){return de(0,bt(t)-1|0)}function Wa(t){return function(r){return Yr(t,r)}}function Bt(t,r){return function(e,i){var u=yt(e,t,i,r,!1),o;if(u==null)o=null;else{var s,h;h=se(u.y1_1,u.z1_1.length),s=h,o=s}return o}}function Rr(t,r){this.y1_1=t,this.z1_1=r}v(Rr).toString=function(){return"("+this.y1_1+", "+this.z1_1+")"},v(Rr).a2=function(){return this.y1_1},v(Rr).b2=function(){return this.z1_1},v(Rr).equals=function(t){if(this===t)return!0;if(!(t instanceof Rr))return!1;var r=t instanceof Rr?t:Jt();return!(!zr(this.y1_1,r.y1_1)||!zr(this.z1_1,r.z1_1))};function se(t,r){return new Rr(t,r)}function $n(t){return t}function Ga(t){return t}function ta(){yn=this,this.c2_1=0,this.d2_1=-1,this.e2_1=4,this.f2_1=32}var yn;function le(){return yn==null&&new ta,yn}function be(t,r){return lt(t,r)}function ra(t,r){var e=t.k_1;return be(e,r instanceof At?r.k_1:Jt())}function Nr(t){return t}function ea(t){var r;return r=ti(t).i2(new G(-1,0)),r.toString()}function Ka(t,r){if(!(r instanceof At))return!1;var e=r instanceof At?r.k_1:Jt();return t===e}function At(t){le(),this.k_1=t}v(At).j2=function(t){return be(this.k_1,t)},v(At).k2=function(t){return ra(this,t)},v(At).toString=function(){return ea(this.k_1)},v(At).equals=function(t){return Ka(this.k_1,t)};function wn(t){return t}function na(){_=this;var t=this;le();var r=-1;le(),t.l2_1=new S(r,0)}var _;function g(){return _==null&&new na,_}function S(t,r){g(),R.call(this,t,r,1)}v(S).e=function(){var t,r=this.p2_1,e=this.q2_1;return t=lt(r,e),t>0},v(S).equals=function(t){var r;return t instanceof S?r=this.e()&&t.e()?!0:this.p2_1===t.p2_1?this.q2_1===t.q2_1:!1:r=!1,r},v(S).toString=function(){return""+new At(this.p2_1)+".."+new At(this.q2_1)};function j(){T=this}var T;function D(){return T==null&&new j,T}function R(t,r,e){if(D(),e===0)throw Xt("Step must be non-zero.");if(e===nr().MIN_VALUE)throw Xt("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this.p2_1=t,this.q2_1=gt(t,r,e),this.r2_1=e}v(R).b=function(){return new X(this.p2_1,this.q2_1,this.r2_1)},v(R).e=function(){var t;if(this.r2_1>0){var r,e=this.p2_1,i=this.q2_1;r=lt(e,i),t=r>0}else{var u,o=this.p2_1,s=this.q2_1;u=lt(o,s),t=u<0}return t},v(R).equals=function(t){var r;return t instanceof R?r=this.e()&&t.e()?!0:this.p2_1===t.p2_1&&this.q2_1===t.q2_1?this.r2_1===t.r2_1:!1:r=!1,r},v(R).toString=function(){return this.r2_1>0?""+new At(this.p2_1)+".."+new At(this.q2_1)+" step "+this.r2_1:""+new At(this.p2_1)+" downTo "+new At(this.q2_1)+" step "+(-this.r2_1|0)};function X(t,r,e){this.s2_1=r;var i=this,u;if(e>0){var o;o=lt(t,r),u=o<=0}else{var s;s=lt(t,r),u=s>=0}i.t2_1=u;var h=this,d;d=e,h.u2_1=d,this.v2_1=this.t2_1?t:this.s2_1}v(X).c=function(){return this.t2_1},v(X).w2=function(){var t=this.v2_1;if(t===this.s2_1){if(!this.t2_1)throw $e();this.t2_1=!1}else{var r=this,e=r,i,u=r.v2_1,o=this.u2_1;i=u+o|0,e.v2_1=i}return t},v(X).d=function(){return new At(this.w2())};function gt(t,r,e){var i;if(e>0){var u,o;if(o=lt(t,r),o>=0)u=r;else{var s,h;h=e;var d=Mt(r,t,h);s=r-d|0,u=s}i=u}else if(e<0){var b,x;if(x=lt(t,r),x<=0)b=r;else{var O,w,q=-e|0;w=q;var nt=Mt(t,r,w);O=r+nt|0,b=O}i=b}else throw Xt("Step is zero.");return i}function Mt(t,r,e){var i;i=qt(t,e);var u=i,o;o=qt(r,e);var s=o,h,d;if(d=lt(u,s),d>=0){var b;b=u-s|0,h=b}else{var x,O;O=u-s|0;var w=O;x=w+e|0,h=x}return h}function Ar(t){return t}function er(t){return t}function lt(t,r){return xe(t^nr().MIN_VALUE,r^nr().MIN_VALUE)}function qt(t,r){var e,i;i=ti(t).i2(new G(-1,0));var u=i,o;o=ti(r).i2(new G(-1,0));var s=u.x2(o);return e=s.y2(),e}function or(){}function ct(){}function Dt(){kt=this}v(Dt).toString=function(){return"kotlin.Unit"};var kt;function Yt(){return kt==null&&new Dt,kt}function xt(){zt=this,this.MIN_VALUE=-2147483648,this.MAX_VALUE=2147483647,this.SIZE_BYTES=4,this.SIZE_BITS=32}v(xt).c3=function(){return this.MIN_VALUE},v(xt).d3=function(){return this.MAX_VALUE},v(xt).e3=function(){return this.SIZE_BYTES},v(xt).f3=function(){return this.SIZE_BITS};var zt;function nr(){return zt==null&&new xt,zt}function dt(t){var r;r=[];for(var e=r,i=t.b();i.c();){var u;u=e,u.push(i.d())}return e}function gr(t){var r,e;if(e=t,e.toArray!==void 0){var i,u;u=t;var o=u.toArray();i=o,r=i}else{var s,h=dt(t),d;d=h,s=d,r=s}return r}function sr(t){return t<0&&ye(),t}function ar(t){return re([t])}function Wt(){mt.call(this)}v(Wt).g3=function(t){this.h3();for(var r=this.b();r.c();)if(zr(r.d(),t))return r.i3(),!0;return!1},v(Wt).toJSON=function(){return this.toArray()},v(Wt).h3=function(){};function lr(t){this.l3_1=t,this.j3_1=0,this.k3_1=-1}v(lr).c=function(){return this.j3_1<this.l3_1.g()},v(lr).d=function(){if(!this.c())throw $e();var t=this,r=this,e=r.j3_1;return r.j3_1=e+1|0,t.k3_1=e,this.l3_1.f(this.k3_1)},v(lr).i3=function(){var t=this.k3_1!==-1;if(!t){var r;r="Call next() or previous() before removing element from the iterator.";var e=r;throw Pn(br(e))}this.l3_1.n3(this.k3_1),this.j3_1=this.k3_1,this.k3_1=-1};function wt(){Wt.call(this),this.m3_1=0}v(wt).j=function(t){return this.h3(),this.o3(this.g(),t),!0},v(wt).b=function(){return new lr(this)},v(wt).equals=function(t){return t===this?!0:t!=null&&qe(t,Dr)?W().p(this,t):!1};function Zt(t){var r;return r=[],ht.call(t,r),t}function dr(){return Zt(Ut(v(ht)))}function bn(t,r){var e;return e=[],ht.call(r,e),r}function cr(t){return bn(t,Ut(v(ht)))}function Ie(t,r){var e;return e=gr(t),ht.call(r,e),r}function Se(t){return Ie(t,Ut(v(ht)))}function ce(t,r){var e;return W().n(r,t.g()),e=r,e}function Ee(t,r){var e;return W().o(r,t.g()),e=r,e}function ht(t){wt.call(this),this.q3_1=t,this.r3_1=!1}v(ht).g=function(){return this.q3_1.length},v(ht).f=function(t){var r=this.q3_1[ce(this,t)];return r==null||Ci(r)?r:Jt()},v(ht).j=function(t){this.h3();var r,e=this.q3_1;r=e,r.push(t);var i=this,u=i.m3_1;return i.m3_1=u+1|0,!0},v(ht).o3=function(t,r){this.h3();var e,i=this.q3_1;e=i,e.splice(Ee(this,t),0,r);var u=this,o=u.m3_1;u.m3_1=o+1|0},v(ht).n3=function(t){this.h3(),ce(this,t);var r=this,e=r.m3_1;r.m3_1=e+1|0;var i;if(t===Ot(this)){var u,o=this.q3_1;u=o,i=u.pop()}else{var s,h=this.q3_1;s=h,i=s.splice(t,1)[0]}return i},v(ht).g3=function(t){this.h3();var r=0,e=this.q3_1.length-1|0;if(r<=e)do{var i=r;if(r=r+1|0,zr(this.q3_1[i],t)){var u,o=this.q3_1;u=o,u.splice(i,1);var s=this,h=s.m3_1;return s.m3_1=h+1|0,!0}}while(r<=e);return!1},v(ht).toString=function(){return fa(this.q3_1)},v(ht).s3=function(){return[].slice.call(this.q3_1)},v(ht).toArray=function(){return this.s3()},v(ht).h3=function(){if(this.r3_1)throw xi()};function ze(){return fe(),Br}var Br;function $r(){}v($r).t3=function(){this.u3(`
`)},v($r).v3=function(t){this.u3(t),this.t3()};function Zr(t){$r.call(this),this.w3_1=t}v(Zr).u3=function(t){var r;r=String(t);var e=r;this.w3_1.write(e)};function yr(){Mr.call(this)}v(yr).u3=function(t){var r;r=String(t);var e=r,i,u=e,o;o=u,i=o.lastIndexOf(`
`,0);var s=i;if(s>=0){var h=this,d=h,b=h.y3_1,x,O=e,w;w=O,x=w.substring(0,s),d.y3_1=b+x,this.z3();var q,nt=e,It=s+1|0,Kt;Kt=nt,q=Kt.substring(It),e=q}var Ht=this;Ht.y3_1=Ht.y3_1+e},v(yr).z3=function(){console.log(this.y3_1),this.y3_1=""};function Mr(){$r.call(this),this.y3_1=""}v(Mr).u3=function(t){var r=this,e=r,i=r.y3_1,u;u=String(t),e.y3_1=i+u};function We(t){fe(),ze().v3(t)}var Ce;function fe(){if(!Ce){Ce=!0;var t,r,e=typeof process<"u"&&process.versions&&!!process.versions.node;r=e?new Zr(process.stdout):new yr,t=r,Br=t}}function Oe(t){return t!==t}function Jr(){}function ne(){}function Ne(t,r){return ve(r),r}function Ae(t){return Ne(t,Ut(v(ir)))}function ve(t){return ir.call(t,""),t}function _e(){return ve(Ut(v(ir)))}function ir(t){this.n1_1=t!==void 0?t:""}v(ir).z2=function(){var t,r=this.n1_1;return t=r,t.length},v(ir).a3=function(t){var r,e=this.n1_1,i;if(t>=0&&t<=kr(e))i=wr(e,t);else throw un("index: "+t+", length: "+this.z2()+"}");return r=i,r},v(ir).b3=function(t,r){var e,i=this.n1_1,u;return u=i,e=u.substring(t,r),e},v(ir).m1=function(t){var r=this;return r.n1_1=r.n1_1+new Gt(t),this},v(ir).a=function(t){var r=this;return r.n1_1=r.n1_1+Cn(t),this},v(ir).toString=function(){return this.n1_1};function ae(t){var r,e,i,u=ke(t);i=u;var o=i.toUpperCase();e=o,r=e;var s=r;return s.length>1?t:wr(s,0)}function he(t){return Gu(t)}function Ge(t,r){var e=r>=0;if(!e){var i;i="Count 'n' must be non-negative, but was "+r+".";var u=i;throw Xt(br(u))}var o=r,s;switch(o){case 0:s="";break;case 1:s=br(t);break;default:var h="",d;if(d=bt(t)===0,!d){var b=br(t),x=r;t:for(;;){if((x&1)===1&&(h=h+b),x=x>>>1|0,x===0)break t;b=b+b}}return h}return s}function Ke(t){var r;if(bt(t)===0)r=!0;else{var e;t:{var i=za(t),u;if(qe(i,xr)?u=i.e():u=!1,u){e=!0;break t}var o=i.d1_1,s=i.e1_1;if(o<=s)do{var h=o;o=o+1|0;var d;if(d=he(wr(t,h)),!d){e=!1;break t}}while(h!==s);e=!0}r=e}return r}function pe(t,r,e,i,u,o){return o=o===E?!1:o,dn(t,r,e,i,u,o)}function aa(t){return t}function di(t){return t}function ia(t){var r;r=t&65535;var e=r;return e}function In(t,r){return t-r|0}function ua(t,r){var e=t.l1_1;return In(e,r instanceof Gt?r.l1_1:Jt())}function He(t){return t}function Ha(t,r){return r instanceof Gt?t===r.l1_1:!1}function ke(t){var r,e=String.fromCharCode(t);return r=e,r}function Sn(){Ye=this,this.a4_1=0,this.b4_1=65535,this.c4_1=55296,this.d4_1=56319,this.e4_1=56320,this.f4_1=57343,this.g4_1=55296,this.h4_1=57343,this.i4_1=2,this.j4_1=16}var Ye;function Ze(){return Ye==null&&new Sn,Ye}function Gt(t){Ze(),this.l1_1=t}v(Gt).k4=function(t){return In(this.l1_1,t)},v(Gt).k2=function(t){return ua(this,t)},v(Gt).equals=function(t){return Ha(this.l1_1,t)},v(Gt).toString=function(){return ke(this.l1_1)};function Dr(){}function xr(){}function En(){Je=this}var Je;function oa(){return Je==null&&new En,Je}function Xr(t,r){oa(),this.l4_1=t,this.m4_1=r}v(Xr).n4=function(t){return xe(this.m4_1,t.m4_1)},v(Xr).k2=function(t){return this.n4(t instanceof Xr?t:Jt())},v(Xr).equals=function(t){return this===t},v(Xr).toString=function(){return this.l4_1};function Cn(t){var r=t,e=r==null?null:br(r);return e??"null"}function On(t){for(var r=1,e=[],i=t,u=0,o=i.length;u<o;){var s=i[u];u=u+1|0;var h=r,d=s.prototype.$imask$,b=d??s.$imask$;b!=null&&(e.push(b),h=b.length);var x=s.$metadata$.iid,O=x,w;if(O==null)w=null;else{var q,nt;nt=sa(O),q=nt,w=q}var It=w;It!=null&&(e.push(It),h=Math.max(h,It.length)),h>r&&(r=h)}return la(r,e)}function sa(t){var r=new Int32Array((t>>5)+1|0),e=t>>5,i=t&31,u=1<<i;return r[e]=r[e]|u,r}function la(t,r){for(var e=0,i=t,u=new Int32Array(i);e<i;){for(var o=e,s,h=0,d=r,b=0,x=d.length;b<x;){var O=d[b];b=b+1|0,o<O.length&&(h=h|O[o])}s=h,u[o]=s,e=e+1|0}return u}function ka(t,r){var e=r>>5;if(e>t.length)return!1;var i=r&31,u=1<<i;return(t[e]&u)!==0}function ca(t){return new Me(t)}function Me(t){this.p4_1=t,this.o4_1=0}v(Me).c=function(){return this.o4_1!==this.p4_1.length},v(Me).d=function(){var t;if(this.o4_1!==this.p4_1.length){var r=this,e=r.o4_1;r.o4_1=e+1|0,t=this.p4_1[e]}else throw ln(""+this.o4_1);return t};function wr(t,r){var e;if(Nn(t)){var i,u,o;o=t;var s=o.charCodeAt(r);u=s;var h=u,d,b;Ze();var x=0;if(b=He(x),h<b)d=!0;else{var O;Ze();var w=65535;O=He(w),d=h>O}if(d)throw Xt("Invalid Char code: "+h);i=Tu(h),e=i}else e=t.a3(r);return e}function Nn(t){return typeof t=="string"}function bt(t){var r;if(Nn(t)){var e,i;i=t;var u=i.length;e=u,r=e}else r=t.z2();return r}function Xe(t,r,e){var i;if(Nn(t)){var u,o;o=t;var s=o.substring(r,e);u=s,i=u}else i=t.b3(r,e);return i}function fa(t){return y(t,", ","[","]",E,E,va)}function va(t){return br(t)}function xe(t,r){var e=typeof t,i;switch(e){case"number":var u;typeof r=="number"?u=An(t,r):r instanceof G?u=An(t,r.q4()):u=Mn(t,r),i=u;break;case"string":case"boolean":i=Mn(t,r);break;default:i=Qe(t,r);break}return i}function An(t,r){var e;if(t<r)e=-1;else if(t>r)e=1;else if(t===r){var i;if(t!==0)i=0;else{var u;u=1;var o=u/t,s,h;h=1,o===h/r?s=0:o<0?s=-1:s=1,i=s}e=i}else t!==t?e=r!==r?0:1:e=-1;return e}function Mn(t,r){return t<r?-1:t>r?1:0}function Qe(t,r){return t.k2(r)}function br(t){var r;if(t==null)r="null";else if(Ru(t))r="[...]";else{var e,i=t.toString();e=i,r=e}return r}function zr(t,r){if(t==null)return r==null;if(r==null)return!1;if(typeof t=="object"&&typeof t.equals=="function")return t.equals(r);if(t!==t)return r!==r;if(typeof t=="number"&&typeof r=="number"){var e;if(t===r){var i;if(t!==0)i=!0;else{var u;u=1;var o=u/t,s;s=1,i=o===s/r}e=i}else e=!1;return e}return t===r}function Ya(t){throw Pn("Should be lowered")}function $i(t){throw Pn("Should be lowered")}function ft(t,r){if(Error.captureStackTrace!=null)Error.captureStackTrace(t,r);else{var e;e=t,e.stack=new Error().stack}}function v(t){return t.prototype}function _a(t,r,e,i){return Object.defineProperty(t,r,{configurable:!0,get:e,set:i})}function Ut(t){return Object.create(t)}function xn(t,r,e){Error.call(t),ha(t,r,e)}function ha(t,r,e){if(!Tn(t,"message")){var i;if(r==null){var u;if(r!==null){var o=e,s=o==null?null:o.toString();u=s??E}else u=E;i=u}else i=r;t.message=i}Tn(t,"cause")||(t.cause=e),t.name=Object.getPrototypeOf(t).constructor.name}function Tn(t,r){var e,i=Object.getPrototypeOf(t).hasOwnProperty(r);return e=i,e}function pa(){throw Li()}function Jt(){throw qi()}function Za(t){throw Ui("lateinit property "+t+" has not been initialized")}function ma(){Fe=this,this.r4_1=new G(0,-2147483648),this.s4_1=new G(-1,2147483647),this.t4_1=8,this.u4_1=64}var Fe;function Ja(){return Fe==null&&new ma,Fe}function G(t,r){Ja(),ct.call(this),this.g2_1=t,this.h2_1=r}v(G).v4=function(t){return me(this,t)},v(G).k2=function(t){return this.v4(t instanceof G?t:Jt())},v(G).w4=function(t){return Te(this,t)},v(G).x4=function(t){return Qa(this,t)},v(G).x2=function(t){return Fa(this,t)},v(G).y4=function(){return this.z4().w4(new G(1,0))},v(G).i2=function(t){return new G(this.g2_1&t.g2_1,this.h2_1&t.h2_1)},v(G).z4=function(){return new G(~this.g2_1,~this.h2_1)},v(G).y2=function(){return this.g2_1},v(G).q4=function(){return qn(this)},v(G).valueOf=function(){return this.q4()},v(G).equals=function(t){var r;return t instanceof G?r=Kr(this,t):r=!1,r},v(G).toString=function(){return Va(this,10)};function Wr(){return st(),Ln}var Ln;function Ve(){return st(),ga}var ga;function da(){return st(),$a}var $a;function Xa(){return st(),tn}var tn;function Ir(){return st(),ya}var ya;function wa(){return st(),ba}var ba;function me(t,r){if(st(),Kr(t,r))return 0;var e=Tr(t),i=Tr(r);return e&&!i?-1:!e&&i?1:Tr(ge(t,r))?-1:1}function Te(t,r){st();var e=t.h2_1>>>16|0,i=t.h2_1&65535,u=t.g2_1>>>16|0,o=t.g2_1&65535,s=r.h2_1>>>16|0,h=r.h2_1&65535,d=r.g2_1>>>16|0,b=r.g2_1&65535,x=0,O=0,w=0,q=0;return q=q+(o+b|0)|0,w=w+(q>>>16|0)|0,q=q&65535,w=w+(u+d|0)|0,O=O+(w>>>16|0)|0,w=w&65535,O=O+(i+h|0)|0,x=x+(O>>>16|0)|0,O=O&65535,x=x+(e+s|0)|0,x=x&65535,new G(w<<16|q,x<<16|O)}function ge(t,r){return st(),Te(t,r.y4())}function Gr(t,r){if(st(),Le(t))return Wr();if(Le(r))return Wr();if(Kr(t,Ir()))return yi(r)?Ir():Wr();if(Kr(r,Ir()))return yi(t)?Ir():Wr();if(Tr(t)){var e;return Tr(r)?e=Gr(fr(t),fr(r)):e=fr(Gr(fr(t),r)),e}else if(Tr(r))return fr(Gr(t,fr(r)));if(wi(t,wa())&&wi(r,wa()))return Un(qn(t)*qn(r));var i=t.h2_1>>>16|0,u=t.h2_1&65535,o=t.g2_1>>>16|0,s=t.g2_1&65535,h=r.h2_1>>>16|0,d=r.h2_1&65535,b=r.g2_1>>>16|0,x=r.g2_1&65535,O=0,w=0,q=0,nt=0;return nt=nt+n(s,x)|0,q=q+(nt>>>16|0)|0,nt=nt&65535,q=q+n(o,x)|0,w=w+(q>>>16|0)|0,q=q&65535,q=q+n(s,b)|0,w=w+(q>>>16|0)|0,q=q&65535,w=w+n(u,x)|0,O=O+(w>>>16|0)|0,w=w&65535,w=w+n(o,b)|0,O=O+(w>>>16|0)|0,w=w&65535,w=w+n(s,d)|0,O=O+(w>>>16|0)|0,w=w&65535,O=O+(((n(i,x)+n(u,b)|0)+n(o,d)|0)+n(s,h)|0)|0,O=O&65535,new G(q<<16|nt,O<<16|w)}function Qa(t,r){if(st(),Le(r))throw ni("division by zero");if(Le(t))return Wr();if(Kr(t,Ir())){if(Kr(r,Ve())||Kr(r,da()))return Ir();if(Kr(r,Ir()))return Ve();var e=Su(t,1),i=Iu(e.x4(r),1);if(Kr(i,Wr()))return Tr(r)?Ve():da();var u=ge(t,Gr(r,i));return Te(i,u.x4(r))}else if(Kr(r,Ir()))return Wr();if(Tr(t)){var o;return Tr(r)?o=fr(t).x4(fr(r)):o=fr(fr(t).x4(r)),o}else if(Tr(r))return fr(t.x4(fr(r)));for(var s=Wr(),h=t;Cu(h,r);){for(var d=qn(h)/qn(r),b=Math.max(1,Math.floor(d)),x=Math.ceil(Math.log(b)/Math.LN2),O=x<=48?1:Math.pow(2,x-48),w=Un(b),q=Gr(w,r);Tr(q)||Eu(q,h);)b=b-O,w=Un(b),q=Gr(w,r);Le(w)&&(w=Ve()),s=Te(s,w),h=ge(h,q)}return s}function Fa(t,r){return st(),ge(t,Gr(t.x4(r),r))}function Iu(t,r){st();var e=r&63;return e===0?t:e<32?new G(t.g2_1<<e,t.h2_1<<e|(t.g2_1>>>(32-e|0)|0)):new G(0,t.g2_1<<(e-32|0))}function Su(t,r){st();var e=r&63;return e===0?t:e<32?new G(t.g2_1>>>e|0|t.h2_1<<(32-e|0),t.h2_1>>e):new G(t.h2_1>>(e-32|0),t.h2_1>=0?0:-1)}function qn(t){return st(),t.h2_1*4294967296+Ou(t)}function Kr(t,r){return st(),t.h2_1===r.h2_1?t.g2_1===r.g2_1:!1}function Va(t,r){if(st(),r<2||36<r)throw ni("radix out of range: "+r);if(Le(t))return"0";if(Tr(t))if(Kr(t,Ir())){var e=rn(r),i=t.x4(e),u=ge(Gr(i,e),t).y2(),o=Va(i,r),s,h;h=u;var d=h.toString(r);return s=d,o+s}else return"-"+Va(fr(t),r);for(var b=r===2?31:r<=10?9:r<=21?7:r<=35?6:5,x=Un(Math.pow(r,b)),O=t,w="";;){var q=O.x4(x),nt=ge(O,Gr(q,x)).y2(),It,Kt;Kt=nt;var Ht=Kt.toString(r);It=Ht;var _r=It;if(O=q,Le(O))return _r+w;for(;_r.length<b;)_r="0"+_r;w=_r+w}}function rn(t){return st(),new G(t,t<0?-1:0)}function Tr(t){return st(),t.h2_1<0}function Le(t){return st(),t.h2_1===0?t.g2_1===0:!1}function yi(t){return st(),(t.g2_1&1)===1}function fr(t){return st(),t.y4()}function wi(t,r){return st(),me(t,r)<0}function Un(t){if(st(),Oe(t))return Wr();if(t<=-9223372036854776e3)return Ir();if(t+1>=9223372036854776e3)return Xa();if(t<0)return fr(Un(-t));var r=4294967296,e,i=t%r;e=i|0;var u=e,o,s=t/r;return o=s|0,new G(u,o)}function Eu(t,r){return st(),me(t,r)>0}function Cu(t,r){return st(),me(t,r)>=0}function Ou(t){return st(),t.g2_1>=0?t.g2_1:4294967296+t.g2_1}var bi;function st(){bi||(bi=!0,Ln=rn(0),ga=rn(1),$a=rn(-1),tn=new G(-1,2147483647),ya=new G(0,-2147483648),ba=rn(16777216))}function Nu(t){var r=t.length,e,i=Array(r);e=i;var u=e,o=0,s=r-1|0;if(o<=s)do{var h=o;o=o+1|0;var d=t[h];d!=null&&Du(d)?u[h]=d:u[h]=[].slice.call(d)}while(h!==s);return[].concat.apply([],u)}function Au(t){var r;return t instanceof G?r=t.y2():r=Mu(t),r}function Mu(t){var r;if(t>2147483647)r=2147483647;else if(t<-2147483648)r=-2147483648;else{var e;e=t|0,r=e}return r}function xu(t){var r,e=t<<16>>16;return r=e,r}function Tu(t){var r,e=Au(t);return r=xu(e),ia(r)}function ti(t){return rn(t)}function de(t,r){return new k(t,r)}function Lu(){return nn(),Ii}var Ii;function en(){return nn(),z(E,E,E,E)}function qu(t,r,e,i,u){nn(),i.get=i,i.set=u,i.callableName=t;var o,s=Uu(i,Pu(r,u),ju(i,e));return o=s,o}function Uu(t,r,e){return nn(),t.$metadata$=r,t.constructor=t,t.$imask$=e,t}function Pu(t,r){return nn(),Lu()[t][r==null?0:1]}function ju(t,r){nn();var e=t.$imask$,i;if(e==null){var u,o,s;s=[r],o=s,u=o,i=On(u)}else i=e;return i}var Si;function nn(){if(!Si){Si=!0;var t,r,e=[en(),en()],i,u;u=e,i=u,r=i;var o=r,s,h=[en(),en()],d,b;b=h,d=b,s=d;var x=s,O,w=[en(),en()],q,nt;nt=w,q=nt,O=q;var It=[o,x,O],Kt,Ht;Ht=It,Kt=Ht,t=Kt,Ii=t}}function z(t,r,e,i){return ri("class",t,r,e,i,null)}function ri(t,r,e,i,u,o){var s=E;return{kind:t,simpleName:r,associatedObjectKey:e,associatedObjects:i,suspendArity:u,$kClass$:s,iid:o}}function Ru(t){return Ei(t)?!0:c(t)}function Ei(t){var r,e=Array.isArray(t);return r=e,r}function C(t,r,e,i,u,o,s,h){i!=null&&(t.prototype=Object.create(i.prototype),t.prototype.constructor=t);var d=h,b=e(r,o,s,d??[]);if(t.$metadata$=b,u!=null){var x=b.iid!=null?t:t.prototype;x.$imask$=On(u)}}function qe(t,r){return Bu(t,r.$metadata$.iid)}function Bu(t,r){var e,i=t.$imask$;e=i;var u=e,o;if(u==null)return!1;o=u;var s=o;return ka(s,r)}function Du(t){var r;if(Ei(t)){var e;e=t,r=!e.$type$}else r=!1;return r}function Ci(t){var r=typeof t,e=r,i;switch(e){case"string":i=!0;break;case"number":i=!0;break;case"boolean":i=!0;break;case"function":i=!0;break;default:var u,o=Object;u=t instanceof o,i=u;break}return i}function ei(t){return typeof t=="string"?!0:qe(t,or)}function an(t,r,e,i){return ri("interface",t,r,e,i,zu())}function zu(){Ia==null&&(Ia=0);var t,r=Oi(),e;e=r,t=e,Ia=t+1|0;var i,u=Oi(),o;return o=u,i=o,i}function Oi(){var t=Ia;if(t!=null)return t;Za("iid")}var Ia;function vr(t,r,e,i){return ri("object",t,r,e,i,null)}function xo(){return Wu(),E}var E,Ni;function Wu(){Ni||(Ni=!0,E=void 0)}function Ai(t){var r,e;return e=t,r=e,new ht(r)}function Gu(t){var r;r=He(t);var e=r;return 9<=e&&e<=13||(28<=e?e<=32:!1)||e===160?!0:e>4096?e===5760||(8192<=e?e<=8202:!1)||e===8232||e===8233||e===8239||e===8287?!0:e===12288:!1}function Ku(t,r){return sn(t,r),Sa.call(r),r}function Xt(t){var r=Ku(t,Ut(v(Sa)));return ft(r,Xt),r}function Sa(){ft(this,Sa)}function Hu(t,r){return sn(t,r),Ea.call(r),r}function un(t){var r=Hu(t,Ut(v(Ea)));return ft(r,un),r}function Ea(){ft(this,Ea)}function ku(t,r){return sn(t,r),Ca.call(r),r}function Pn(t){var r=ku(t,Ut(v(Ca)));return ft(r,Pn),r}function Ca(){ft(this,Ca)}function Yu(t){return xn(t),on.call(t),t}function Mi(t,r){return xn(r,t),on.call(r),r}function ni(t){var r=Mi(t,Ut(v(on)));return ft(r,ni),r}function on(){ft(this,on)}function Oa(t){return Yu(t),Sr.call(t),t}function sn(t,r){return Mi(t,r),Sr.call(r),r}function Sr(){ft(this,Sr)}function Zu(t){return Oa(t),cn.call(t),t}function $e(){var t=Zu(Ut(v(cn)));return ft(t,$e),t}function Ju(t,r){return sn(t,r),cn.call(r),r}function ln(t){var r=Ju(t,Ut(v(cn)));return ft(r,ln),r}function cn(){ft(this,cn)}function Xu(t){return Oa(t),Na.call(t),t}function xi(){var t=Xu(Ut(v(Na)));return ft(t,xi),t}function Na(){ft(this,Na)}function Qu(t,r){return sn(t,r),Aa.call(r),r}function Ti(t){var r=Qu(t,Ut(v(Aa)));return ft(r,Ti),r}function Aa(){ft(this,Aa)}function Fu(t){return Oa(t),Ma.call(t),t}function Li(){var t=Fu(Ut(v(Ma)));return ft(t,Li),t}function Ma(){ft(this,Ma)}function Vu(t){return Oa(t),xa.call(t),t}function qi(){var t=Vu(Ut(v(xa)));return ft(t,qi),t}function xa(){ft(this,xa)}function to(t,r){return sn(t,r),Ta.call(r),r}function Ui(t){var r=to(t,Ut(v(Ta)));return ft(r,Ui),r}function Ta(){ft(this,Ta)}return a.$_$=a.$_$||{},a.$_$.a=Nu,a.$_$.b=cr,a.$_$.c=dr,a.$_$.d=Pn,a.$_$.e=$e,a.$_$.f=aa,a.$_$.g=$n,a.$_$.h=be,a.$_$.i=Ga,a.$_$.j=Nr,a.$_$.k=ea,a.$_$.l=Yt,a.$_$.m=rr,a.$_$.n=sr,a.$_$.o=Cr,a.$_$.p=gr,a.$_$.q=ot,a.$_$.r=p,a.$_$.s=I,a.$_$.t=Y,a.$_$.u=Ot,a.$_$.v=f,a.$_$.w=A,a.$_$.x=hr,a.$_$.y=$t,a.$_$.z=We,a.$_$.a1=z,a.$_$.b1=xe,a.$_$.c1=_a,a.$_$.d1=zr,a.$_$.e1=qu,a.$_$.f1=an,a.$_$.g1=Ci,a.$_$.h1=de,a.$_$.i1=Ut,a.$_$.j1=vr,a.$_$.k1=v,a.$_$.l1=C,a.$_$.m1=S,a.$_$.n1=Jr,a.$_$.o1=ne,a.$_$.p1=hn,a.$_$.q1=je,a.$_$.r1=Ge,a.$_$.s1=Lt,a.$_$.t1=Xr,a.$_$.u1=Jt,a.$_$.v1=At,a.$_$.w1=pa,a.$_$.x1=wn,a.$_$.y1=lt,a.$_$.z1=E,a})});var Zi=Gn((li,Yi)=>{(function(a,n){if(typeof define=="function"&&define.amd)define(["exports","./kotlin-kotlin-stdlib-js-ir.js"],n);else if(typeof li=="object")n(Yi.exports,Kn());else{if(typeof this["kotlin-kotlin-stdlib-js-ir"]>"u")throw new Error("Error loading module 'mancala-game-mancala-util'. Its dependency 'kotlin-kotlin-stdlib-js-ir' was not found. Please, check whether 'kotlin-kotlin-stdlib-js-ir' is loaded prior to 'mancala-game-mancala-util'.");a["mancala-game-mancala-util"]=n(typeof this["mancala-game-mancala-util"]>"u"?{}:this["mancala-game-mancala-util"],this["kotlin-kotlin-stdlib-js-ir"])}})(li,function(a,n){"use strict";var c=n.$_$.l,f=n.$_$.t1,y=n.$_$.k1,$=n.$_$.a1,I=n.$_$.z1,Y=n.$_$.l1;Y(at,"COLOUR",$,f);var B,p,rt,vt,N,Ct,V,Tt,Q,ur,Qt,ut,St,Ft,pt,$t,Lr,mt;function Vt(){if(mt)return c();mt=!0,B=new at("ANSI_RESET",0,"\x1B[0m"),p=new at("ANSI_BLACK",1,"\x1B[30m"),rt=new at("ANSI_RED",2,"\x1B[31m"),vt=new at("ANSI_GREEN",3,"\x1B[32m"),N=new at("ANSI_YELLOW",4,"\x1B[33m"),Ct=new at("ANSI_BLUE",5,"\x1B[34m"),V=new at("ANSI_PURPLE",6,"\x1B[35m"),Tt=new at("ANSI_CYAN",7,"\x1B[36m"),Q=new at("ANSI_WHITE",8,"\x1B[37m"),ur=new at("ANSI_BLACK_BACKGROUND",9,"\x1B[40m"),Qt=new at("ANSI_RED_BACKGROUND",10,"\x1B[41m"),ut=new at("ANSI_GREEN_BACKGROUND",11,"\x1B[42m"),St=new at("ANSI_YELLOW_BACKGROUND",12,"\x1B[43m"),Ft=new at("ANSI_BLUE_BACKGROUND",13,"\x1B[44m"),pt=new at("ANSI_PURPLE_BACKGROUND",14,"\x1B[45m"),$t=new at("ANSI_CYAN_BACKGROUND",15,"\x1B[46m"),Lr=new at("ANSI_WHITE_BACKGROUND",16,"\x1B[47m")}function at(Ot,A,ot){f.call(this,Ot,A),this.k6_1=ot}function Rt(){return Vt(),Ct}function W(){return Vt(),V}function et(Ot,A,ot){return ot=ot===I?!0:ot,Ot}return a.$_$=a.$_$||{},a.$_$.a=et,a.$_$.b=Rt,a.$_$.c=W,a})});var fi=Gn((ci,Ji)=>{(function(a,n){if(typeof define=="function"&&define.amd)define(["exports","./kotlin-kotlin-stdlib-js-ir.js"],n);else if(typeof ci=="object")n(Ji.exports,Kn());else{if(typeof this["kotlin-kotlin-stdlib-js-ir"]>"u")throw new Error("Error loading module 'mancala-game-mancala-domain'. Its dependency 'kotlin-kotlin-stdlib-js-ir' was not found. Please, check whether 'kotlin-kotlin-stdlib-js-ir' is loaded prior to 'mancala-game-mancala-domain'.");a["mancala-game-mancala-domain"]=n(typeof this["mancala-game-mancala-domain"]>"u"?{}:this["mancala-game-mancala-domain"],this["kotlin-kotlin-stdlib-js-ir"])}})(ci,function(a,n){"use strict";var c=n.$_$.k1,f=n.$_$.j1,y=n.$_$.z1,$=n.$_$.l1,I=n.$_$.u1,Y=n.$_$.d1,B=n.$_$.a1,p=n.$_$.f1,rt=n.$_$.p,vt=n.$_$.l,N=n.$_$.a,Ct=n.$_$.w,V=n.$_$.g,Tt=n.$_$.m1,Q=n.$_$.o,ur=n.$_$.b,Qt=n.$_$.j,ut=n.$_$.x1,St=n.$_$.h;$(Rt,"IllegalMoveError",f),$(Ot,"NoStonesToMoveError",f),$(hr,"GameOver",B),$(Et,"Success",B);function Ft(){var L=this.g5();return L instanceof re}function pt(){var L=this.g5();return L instanceof l}function $t(){var L=this.g5();return L instanceof rr}function Lr(){var L=this.g5();return L instanceof U}function mt(){var L=this.g5();return L instanceof H}$(qr,"Game",p),$(Hr,"IllegalMoveError",f),$(Pr,"NoStonesToMoveError",f),$(Er,"Success",B),$(re,"PlayerOneToMove",f),$(rr,"PlayerTwoToMove",f),$(l,"PlayerOneWon",f),$(U,"PlayerTwoWon",f),$(H,"Draw",f);function Vt(){var L,Z=this.b6();return L=rt(Z),Ct(N([L,[this.c6()]]))}$(tt,"Player",p);function at(L,Z,it,Nt){var Pt,Lt;Lt=new Tt(V(1),Z);var jt=Lt,pr,jr=ur(Q(jt,10)),mr=Qt(jt.p2_1),ue=Qt(jt.q2_1);if(St(ut(mr),ut(ue))<=0)do{var kr=ut(mr);mr=mr+1|0;var je;je=Nt.g6(it),jr.j(je)}while(Qt(kr)!==ue);return pr=jr,Pt=pr,this.e6(L,Pt,Nt.h6(V(0)))}$(K,"PlayerFactory",p);function Rt(){W=this}var W;function et(){return W==null&&new Rt,W}function Ot(){A=this}var A;function ot(){return A==null&&new Ot,A}function hr(L){this.c5_1=L}c(hr).toString=function(){return"GameOver(game="+this.c5_1+")"},c(hr).equals=function(L){if(this===L)return!0;if(!(L instanceof hr))return!1;var Z=L instanceof hr?L:I();return!!Y(this.c5_1,Z.c5_1)};function Et(L){this.d5_1=L}c(Et).toString=function(){return"Success(game="+this.d5_1+")"},c(Et).equals=function(L){if(this===L)return!0;if(!(L instanceof Et))return!1;var Z=L instanceof Et?L:I();return!!Y(this.d5_1,Z.d5_1)};function qr(){}function Hr(){tr=this}var tr;function Ur(){return tr==null&&new Hr,tr}function Pr(){te=this}var te;function ye(){return te==null&&new Pr,te}function Er(L,Z,it,Nt,Pt,Lt,jt,pr,jr,mr,ue){this.p5_1=L,this.q5_1=Z,this.r5_1=it,this.s5_1=Nt,this.t5_1=Pt,this.u5_1=Lt,this.v5_1=jt,this.w5_1=pr,this.x5_1=jr,this.y5_1=mr,this.z5_1=ue}c(Er).toString=function(){return"Success(playerCups="+this.p5_1+", playerScoringCup="+this.q5_1+", opponentCups="+this.r5_1+", opponentScoringCup="+this.s5_1+", lastMoveOnPlayerEmptyCup="+this.t5_1+", lastMoveOnPlayerScoringCup="+this.u5_1+", playerGetsAnotherMove="+this.v5_1+", gameOver="+this.w5_1+", playerWon="+this.x5_1+", opponentWon="+this.y5_1+", gameDrew="+this.z5_1+")"},c(Er).equals=function(L){if(this===L)return!0;if(!(L instanceof Er))return!1;var Z=L instanceof Er?L:I();return!(!Y(this.p5_1,Z.p5_1)||!Y(this.q5_1,Z.q5_1)||!Y(this.r5_1,Z.r5_1)||!Y(this.s5_1,Z.s5_1)||this.t5_1!==Z.t5_1||this.u5_1!==Z.u5_1||this.v5_1!==Z.v5_1||this.w5_1!==Z.w5_1||this.x5_1!==Z.x5_1||this.y5_1!==Z.y5_1||this.z5_1!==Z.z5_1)};function re(){Cr=this}var Cr;function Or(){return Cr==null&&new re,Cr}function rr(){_t=this}var _t;function we(){return _t==null&&new rr,_t}function l(){m=this}var m;function M(){return m==null&&new l,m}function U(){P=this}var P;function F(){return P==null&&new U,P}function H(){J=this}var J;function k(){return J==null&&new H,J}function tt(){}function K(){}return a.$_$=a.$_$||{},a.$_$.a=hr,a.$_$.b=Rt,a.$_$.c=Ot,a.$_$.d=Et,a.$_$.e=mt,a.$_$.f=Ft,a.$_$.g=pt,a.$_$.h=$t,a.$_$.i=Lr,a.$_$.j=Hr,a.$_$.k=Pr,a.$_$.l=Er,a.$_$.m=qr,a.$_$.n=Vt,a.$_$.o=at,a.$_$.p=K,a.$_$.q=tt,a.$_$.r=et,a.$_$.s=ot,a.$_$.t=Ur,a.$_$.u=ye,a.$_$.v=Or,a.$_$.w=we,a.$_$.x=k,a.$_$.y=M,a.$_$.z=F,a})});var Qi=Gn((vi,Xi)=>{(function(a,n){if(typeof define=="function"&&define.amd)define(["exports","./kotlin-kotlin-stdlib-js-ir.js","./mancala-game-mancala-util.js","./mancala-game-mancala-domain.js"],n);else if(typeof vi=="object")n(Xi.exports,Kn(),Zi(),fi());else{if(typeof this["kotlin-kotlin-stdlib-js-ir"]>"u")throw new Error("Error loading module 'mancala-game-mancala-implementation'. Its dependency 'kotlin-kotlin-stdlib-js-ir' was not found. Please, check whether 'kotlin-kotlin-stdlib-js-ir' is loaded prior to 'mancala-game-mancala-implementation'.");if(typeof this["mancala-game-mancala-util"]>"u")throw new Error("Error loading module 'mancala-game-mancala-implementation'. Its dependency 'mancala-game-mancala-util' was not found. Please, check whether 'mancala-game-mancala-util' is loaded prior to 'mancala-game-mancala-implementation'.");if(typeof this["mancala-game-mancala-domain"]>"u")throw new Error("Error loading module 'mancala-game-mancala-implementation'. Its dependency 'mancala-game-mancala-domain' was not found. Please, check whether 'mancala-game-mancala-domain' is loaded prior to 'mancala-game-mancala-implementation'.");a["mancala-game-mancala-implementation"]=n(typeof this["mancala-game-mancala-implementation"]>"u"?{}:this["mancala-game-mancala-implementation"],this["kotlin-kotlin-stdlib-js-ir"],this["mancala-game-mancala-util"],this["mancala-game-mancala-domain"])}})(vi,function(a,n,c,f){"use strict";var y=Math.imul,$=n.$_$.k,I=n.$_$.i,Y=n.$_$.l,B=n.$_$.f,p=n.$_$.q1,rt=c.$_$.b,vt=c.$_$.a,N=n.$_$.k1,Ct=n.$_$.j1,V=n.$_$.z1,Tt=n.$_$.l1,Q=n.$_$.g,ur=n.$_$.u1,Qt=n.$_$.a1,ut=n.$_$.o,St=n.$_$.b,Ft=f.$_$.w,pt=f.$_$.v,$t=f.$_$.z,Lr=f.$_$.y,mt=f.$_$.x,Vt=n.$_$.c,at=n.$_$.n,Rt=n.$_$.y1,W=n.$_$.v1,et=n.$_$.q,Ot=n.$_$.w1,A=f.$_$.a,ot=n.$_$.d1,hr=f.$_$.d,Et=f.$_$.l,qr=f.$_$.s,Hr=f.$_$.k,tr=f.$_$.r,Ur=f.$_$.j,Pr=f.$_$.f,te=f.$_$.g,ye=f.$_$.h,Er=f.$_$.i,re=f.$_$.e,Cr=f.$_$.m,Or=n.$_$.u,rr=n.$_$.s1,_t=n.$_$.d,we=f.$_$.u,l=f.$_$.t,m=n.$_$.p,M=n.$_$.x,U=n.$_$.h1,P=n.$_$.r,F=n.$_$.v,H=n.$_$.y,J=n.$_$.s,k=n.$_$.o1,tt=n.$_$.e1,K=n.$_$.i1,L=n.$_$.w,Z=n.$_$.e,it=n.$_$.b1,Nt=n.$_$.a,Pt=n.$_$.r1,Lt=n.$_$.m,jt=n.$_$.p1,pr=n.$_$.t,jr=c.$_$.c,mr=f.$_$.o,ue=f.$_$.p,kr=f.$_$.n,je=f.$_$.q;Tt(hn,"CupStringify",Ct),Tt(Re,"Companion",Ct),Tt(Yr,"DefaultCup",Qt),Tt(Be,"Companion",Ct),Tt(yt,"DefaultGame",Qt,V,[Cr]),Tt(gn,"DefaultGameRules",Qt),Tt(Bt,"GameDelegate",Qt,V,[Cr]),Tt(se,"GameStringify",Ct),Tt(le,"Companion",Ct,V,[ue]),Tt(Nr,"DefaultPlayer",Qt,V,[je]),Tt(At,"PlayerStringify",Ct);function hn(){pn=this}N(hn).l6=function(_,g){var S=$(_.m6()),j;return j=I(g),"["+vt(p(S,j,B(48)),[rt()])+"]"};var pn;function ee(){return pn==null&&new hn,pn}function Re(){mn=this}N(Re).g6=function(_){return new Yr(_)},N(Re).h6=function(_){return new Yr(_)};var mn;function Xn(){return mn==null&&new Re,mn}function Yr(_){Xn(),_=_===V?Q(0):_,this.n6_1=_}N(Yr).m6=function(){return this.n6_1},N(Yr).toString=function(){return ee().l6(this,Q(0))},N(Yr).equals=function(_){if(this===_)return!0;if(!(_ instanceof Yr))return!1;var g=_ instanceof Yr?_:ur();return this.n6_1===g.n6_1};function Qn(_,g){for(var S=_.o6_1.a6(),j,T=g.p5_1,D,R=St(ut(T,10)),X=T.b();X.c();){var gt=X.d(),Mt;Mt=_.s6_1.g6(gt.m6()),R.j(Mt)}D=R,j=D;var Ar=j,er,lt=g.q5_1,qt;qt=_.s6_1.h6(lt.m6()),er=qt;for(var or=_.t6_1.e6(S,Ar,er),ct=_.p6_1.a6(),Dt,kt=g.r5_1,Yt,xt=St(ut(kt,10)),zt=kt.b();zt.c();){var nr=zt.d(),dt;dt=_.s6_1.g6(nr.m6()),xt.j(dt)}Yt=xt,Dt=Yt;var gr=Dt,sr,ar=g.s5_1,Wt;Wt=_.s6_1.h6(ar.m6()),sr=Wt;var lr=_.t6_1.e6(ct,gr,sr),wt;if(g.w5_1){var Zt;g.z5_1?Zt=mt():g.x5_1?Zt=Lr():Zt=$t(),wt=Zt}else g.v5_1?wt=pt():wt=Ft();return _.u6(or,lr,wt)}function Fn(_,g){for(var S=_.p6_1.a6(),j,T=g.p5_1,D,R=St(ut(T,10)),X=T.b();X.c();){var gt=X.d(),Mt;Mt=_.s6_1.g6(gt.m6()),R.j(Mt)}D=R,j=D;var Ar=j,er,lt=g.q5_1,qt;qt=_.s6_1.h6(lt.m6()),er=qt;for(var or=_.t6_1.e6(S,Ar,er),ct=_.o6_1.a6(),Dt,kt=g.r5_1,Yt,xt=St(ut(kt,10)),zt=kt.b();zt.c();){var nr=zt.d(),dt;dt=_.s6_1.g6(nr.m6()),xt.j(dt)}Yt=xt,Dt=Yt;var gr=Dt,sr,ar=g.s5_1,Wt;Wt=_.s6_1.h6(ar.m6()),sr=Wt;var lr=_.t6_1.e6(ct,gr,sr),wt;if(g.w5_1){var Zt;g.z5_1?Zt=mt():g.x5_1?Zt=$t():Zt=Lr(),wt=Zt}else g.v5_1?wt=Ft():wt=pt();var dr=wt;return _.u6(lr,or,dr)}function Be(){oe=this}N(Be).v6=function(_,g,S,j,T,D){var R=D.f6(_,S,j,T),X=D.f6(g,S,j,T),gt=pt(),Mt=new gn(T);return new yt(R,X,gt,Mt,T,D)};var oe;function De(){return oe==null&&new Be,oe}function yt(_,g,S,j,T,D){De(),this.o6_1=_,this.p6_1=g,this.q6_1=S,this.r6_1=j,this.s6_1=T,this.t6_1=D}N(yt).e5=function(){return this.o6_1},N(yt).f5=function(){return this.p6_1},N(yt).g5=function(){return this.q6_1},N(yt).h5=function(){var _=this.n5(),g=_==null?null:_.b6(),S;if(g==null)S=null;else{for(var j,T,D=Vt(),R=0,X=g.b();X.c();){var gt=X.d(),Mt=R;R=Mt+1|0;var Ar=at(Mt),er,lt,qt,or=gt.m6();if(qt=Rt(I(or),I(Q(0))),qt>0){var ct;ct=Q(Ar),lt=ct}else lt=null;er=lt;var Dt=er,kt=Dt;if((kt==null?null:new W(kt))!=null){var Yt,xt=Dt;D.j(xt==null?null:new W(xt)),Yt=Y()}}T=D,j=T,S=j}var zt=S;return zt??et()},N(yt).n5=function(){var _;return this.i5()?_=this.o6_1:this.k5()?_=this.p6_1:_=null,_},N(yt).o5=function(_){var g=this.q6_1,S;if(ot(g,pt())){var j=this.r6_1.w6(_,this.o6_1,this.p6_1),T;if(j instanceof Ur)T=tr();else if(j instanceof Hr)T=qr();else if(j instanceof Et){var D;j.w5_1?D=new A(Qn(this,j)):D=new hr(Qn(this,j)),T=D}else Ot();S=T}else if(ot(g,Ft())){var R=this.r6_1.w6(_,this.p6_1,this.o6_1),X;if(R instanceof Ur)X=tr();else if(R instanceof Hr)X=qr();else if(R instanceof Et){var gt;R.w5_1?gt=new A(Fn(this,R)):gt=new hr(Fn(this,R)),X=gt}else Ot();S=X}else ot(g,mt())?S=new A(this):ot(g,Lr())?S=new A(this):ot(g,$t())?S=new A(this):Ot();return S},N(yt).toString=function(){return Ga().x6(this)},N(yt).y6=function(_,g,S,j,T,D){return new yt(_,g,S,j,T,D)},N(yt).u6=function(_,g,S,j,T,D,R){return _=_===V?this.o6_1:_,g=g===V?this.p6_1:g,S=S===V?this.q6_1:S,j=j===V?this.r6_1:j,T=T===V?this.s6_1:T,D=D===V?this.t6_1:D,R===V?this.y6(_,g,S,j,T,D):R.y6.call(this,_,g,S,j,T,D)},N(yt).equals=function(_){if(this===_)return!0;if(!(_ instanceof yt))return!1;var g=_ instanceof yt?_:ur();return!(!ot(this.o6_1,g.o6_1)||!ot(this.p6_1,g.p6_1)||!ot(this.q6_1,g.q6_1)||!ot(this.r6_1,g.r6_1)||!ot(this.s6_1,g.s6_1)||!ot(this.t6_1,g.t6_1))};function Da(_,g){return function(){return Or(_.b6())-g._v|0}}function gn(_){this.z6_1=_}N(gn).w6=function(_,g,S){var j;j=I(_);var T={_v:j},D=Da(S,T);if(g.b6().g()!==S.b6().g())throw _t(rr(" "+g.b6().g()+" cups for "+g.a6()+` and
					`+S.b6().g()+" cups for "+S.a6()+` is 
				    not a valid state
				`));if(T._v>Or(g.b6()))return l();if(g.b6().f(T._v).m6()===Q(0))return we();for(var R,X,gt=g.b6(),Mt=dn(),Ar,er=St(ut(gt,10)),lt=gt.b();lt.c();){var qt=lt.d();er.j(Mt(qt))}Ar=er,X=Ar;var or=X;R=m(or);var ct=R,Dt,kt=g.c6().m6(),Yt,xt,zt,nr;nr=[new W(kt)],zt=nr,xt=zt,Yt=xt,Dt=Yt;for(var dt=Dt,gr,sr,ar=S.b6(),Wt=Vn(),lr,wt=St(ut(ar,10)),Zt=ar.b();Zt.c();){var dr=Zt.d();wt.j(Wt(dr))}lr=wt,sr=lr;var bn=sr;gr=m(bn);var cr=gr,Ie,Se=S.c6().m6(),ce,Ee,ht,ze;ze=[new W(Se)],ht=ze,Ee=ht,ce=Ee,Ie=ce;var Br=Ie,$r=!1,Zr=!1,yr=!1,Mr=M([ct,dt,cr]),We,Ce=ct[T._v].k_1;We=I(Ce);var fe=We;ct[T._v]=new W(Q(0));var Oe=U(1,fe),Jr=Oe.d1_1,ne=Oe.e1_1;if(Jr<=ne)do{var Ne=Jr;Jr=Jr+1|0;var Ae=T._v;if(T._v=Ae+1|0,T._v>F(P(Mr))){var ve,_e=Mr;_e.j(_e.n3(0)),ve=_e,Mr=ve,T._v=0}if(Ne===fe){var ir,ae=P(Mr);if(ae===ct){var he;if(ae[T._v].equals(new W(Q(0)))){var Ge,Ke=cr[D()].k_1;Ge=Rt(I(Ke),I(Q(0))),he=Ge>0}else he=!1;$r=he}else ae===dt&&(Zr=!0);ir=ae}var pe=P(Mr),aa=T._v,di=pe[aa].k_1,ia;if(ia=Q(I(di)+1|0),pe[aa]=new W(ia),$r){var In=dt,ua=0,He,Ha=In[ua].k_1,ke=ct[T._v].k_1;He=Q(I(Ha)+I(ke)|0),In[ua]=new W(He),ct[T._v]=new W(Q(0));var Sn=dt,Ye=0,Ze,Gt=Sn[Ye].k_1,Dr=cr[D()].k_1;Ze=Q(I(Gt)+I(Dr)|0),Sn[Ye]=new W(Ze),cr[D()]=new W(Q(0))}}while(Ne!==ne);var xr=H(ct),En=H(cr);if(xr===Q(0)||En===Q(0)){var Je=dt,oa=0,Xr,Cn=Je[oa].k_1;Xr=Q(I(Cn)+I(xr)|0),Je[oa]=new W(Xr);var On=Br,sa=0,la,ka=On[sa].k_1;la=Q(I(ka)+I(En)|0),On[sa]=new W(la);for(var ca=0,Me=ct,wr=0,Nn=Me.length;wr<Nn;){var bt=Me[wr].k_1;wr=wr+1|0;var Xe=ca;ca=Xe+1|0;var fa=Xe;ct[fa]=new W(Q(0)),cr[fa]=new W(Q(0))}yr=!0}for(var va,xe,An=St(ct.length),Mn=ct,Qe=0,br=Mn.length;Qe<br;){var zr=Mn[Qe].k_1;Qe=Qe+1|0;var Ya;Ya=this.z6_1.g6(zr),An.j(Ya)}xe=An,va=xe;var $i=va,ft,v=J(dt).k_1,_a;_a=this.z6_1.h6(v),ft=_a;for(var Ut=ft,xn,ha,Tn=St(cr.length),pa=cr,Jt=0,Za=pa.length;Jt<Za;){var ma=pa[Jt].k_1;Jt=Jt+1|0;var Fe;Fe=this.z6_1.g6(ma),Tn.j(Fe)}ha=Tn,xn=ha;var Ja=xn,G,Wr=J(Br).k_1,Ln;Ln=this.z6_1.h6(Wr),G=Ln;var Ve=G,ga=yr,da=$r,$a=Zr,Xa=yr?!1:Zr,tn;if(yr){var Ir,ya=dt[0].k_1,wa=Br[0].k_1;Ir=Rt(I(ya),I(wa)),tn=Ir>0}else tn=!1;var ba=tn,me;if(yr){var Te,ge=dt[0].k_1,Gr=Br[0].k_1;Te=Rt(I(ge),I(Gr)),me=Te<0}else me=!1;var Qa=me,Fa=yr?dt[0].equals(Br[0]):!1;return new Et($i,Ut,Ja,Ve,da,$a,Xa,ga,ba,Qa,Fa)};function dn(){return tt("stones",1,k,function(_){return new W(_.m6())},null)}function Vn(){return tt("stones",1,k,function(_){return new W(_.m6())},null)}function za(_,g,S,j,T,D,R,X){return _=_===V?"Player 1":_,g=g===V?"Player 2":g,T=T===V?Xn():T,D=D===V?ra():D,R=R===V?De():R,Bt.call(X,R.v6(_,g,S,j,T,D)),X}function Wa(_,g,S,j,T,D,R){return za(_,g,S,j,T,D,R,K(N(Bt)))}function Bt(_){this.a7_1=_}N(Bt).h5=function(){return this.a7_1.h5()},N(Bt).m5=function(){return this.a7_1.m5()},N(Bt).e5=function(){return this.a7_1.e5()},N(Bt).i5=function(){return this.a7_1.i5()},N(Bt).j5=function(){return this.a7_1.j5()},N(Bt).f5=function(){return this.a7_1.f5()},N(Bt).k5=function(){return this.a7_1.k5()},N(Bt).l5=function(){return this.a7_1.l5()},N(Bt).n5=function(){return this.a7_1.n5()},N(Bt).g5=function(){return this.a7_1.g5()},N(Bt).o5=function(_){return this.a7_1.o5(_)},N(Bt).toString=function(){return this.a7_1.toString()};function Rr(_,g,S){var j,T,D=L([g.a6(),S.a6()]),R=ta(),X=D.b();if(!X.c())throw Z();for(var gt=R(X.d());X.c();){var Mt=R(X.d());it(gt,Mt)<0&&(gt=Mt)}T=gt;var Ar=T,er,lt;Ar<4?lt=4:lt=Ar,er=lt,j=er;var qt=j,or,ct,Dt=g.d6();ct=m(Dt);var kt=ct,Yt,xt=S.d6();Yt=m(xt);var zt=L(Nt([kt,Yt])),nr=yn(),dt=zt.b();if(!dt.c())throw Z();for(var gr=nr(dt.d()).k_1;dt.c();){var sr=nr(dt.d()).k_1;it(new W(gr),new W(sr))<0&&(gr=sr)}or=gr;var ar=$(or).length,Wt=Pt("=",(y(qt,2)+y(ar+2|0,S.d6().g())|0)+5|0),lr=Pt(" ",qt-1|0),wt=ee(),Zt=S.c6(),dr;dr=Q(ar);for(var bn=[lr,wt.l6(Zt,dr),"::"],cr,Ie,Se=Lt(S.b6()),ce,Ee=St(ut(Se,10)),ht=Se.b();ht.c();){var ze=ht.d(),Br,$r=ee(),Zr;Zr=Q(ar),Br=$r.l6(ze,Zr),Ee.j(Br)}ce=Ee,Ie=ce;var yr=Ie;cr=m(yr);for(var Mr=pr(L(Nt([bn,cr,[" <- ",jt(S.a6(),qt)]])),""),We=[vt(p(g.a6(),qt),[jr()])," -> "],Ce,fe,Oe=g.b6(),Jr,ne=St(ut(Oe,10)),Ne=Oe.b();Ne.c();){var Ae=Ne.d(),ve,_e=ee(),ir;ir=Q(ar),ve=_e.l6(Ae,ir),ne.j(ve)}Jr=ne,fe=Jr;var ae=fe;Ce=m(ae);var he=Ce,Ge=ee(),Ke=g.c6(),pe;return pe=Q(ar),pr(L([Wt,Mr,pr(L(Nt([We,he,["::",Ge.l6(Ke,pe)]])),""),Pt("=",(y(qt,2)+y(ar+2|0,g.d6().g())|0)+5|0)]),`
`)}function se(){$n=this}N(se).x6=function(_){var g;return _.k5()?g=Rr(this,_.f5(),_.e5()):g=Rr(this,_.e5(),_.f5()),g};var $n;function Ga(){return $n==null&&new se,$n}function ta(){return tt("length",1,k,function(_){return _.length},null)}function yn(){return tt("stones",1,k,function(_){return new W(_.m6())},null)}function le(){be=this}N(le).e6=function(_,g,S){return new Nr(_,g,S)};var be;function ra(){return be==null&&new le,be}function Nr(_,g,S){ra(),_=_===V?"DefaultPlayer":_,this.b7_1=_,this.c7_1=g,this.d7_1=S}N(Nr).a6=function(){return this.b7_1},N(Nr).b6=function(){return this.c7_1},N(Nr).c6=function(){return this.d7_1},N(Nr).toString=function(){var _=na(),g=Q(0),S,j,T=this.d6(),D=ea(),R=T.b();if(!R.c())throw Z();for(var X=D(R.d()).k_1;R.c();){var gt=D(R.d()).k_1;it(new W(X),new W(gt))<0&&(X=gt)}j=X;var Mt=$(j).length;return S=Q(Mt),_.e7(this,g,S)},N(Nr).equals=function(_){if(this===_)return!0;if(!(_ instanceof Nr))return!1;var g=_ instanceof Nr?_:ur();return!(this.b7_1!==g.b7_1||!ot(this.c7_1,g.c7_1)||!ot(this.d7_1,g.d7_1))};function ea(){return tt("stones",1,k,function(_){return new W(_.m6())},null)}function Ka(_){return function(g){return ee().l6(g,_)}}function At(){wn=this}N(At).e7=function(_,g,S){var j=_.b6(),T=_.a6(),D;D=I(g);var R=p(T,D)+" -> ";return pr(j,"",R,"::",V,V,Ka(S))+ee().l6(_.c6(),S)};var wn;function na(){return wn==null&&new At,wn}return N(yt).i5=Pr,N(yt).j5=te,N(yt).k5=ye,N(yt).l5=Er,N(yt).m5=re,N(le).f6=mr,N(Nr).d6=kr,a.$_$=a.$_$||{},a.$_$.a=Wa,a})});var Hn=Gn((_i,Fi)=>{(function(a,n){if(typeof define=="function"&&define.amd)define(["exports","./kotlin-kotlin-stdlib-js-ir.js","./mancala-game-mancala-implementation.js","./mancala-game-mancala-domain.js"],n);else if(typeof _i=="object")n(Fi.exports,Kn(),Qi(),fi());else{if(typeof this["kotlin-kotlin-stdlib-js-ir"]>"u")throw new Error("Error loading module 'mancala'. Its dependency 'kotlin-kotlin-stdlib-js-ir' was not found. Please, check whether 'kotlin-kotlin-stdlib-js-ir' is loaded prior to 'mancala'.");if(typeof this["mancala-game-mancala-implementation"]>"u")throw new Error("Error loading module 'mancala'. Its dependency 'mancala-game-mancala-implementation' was not found. Please, check whether 'mancala-game-mancala-implementation' is loaded prior to 'mancala'.");if(typeof this["mancala-game-mancala-domain"]>"u")throw new Error("Error loading module 'mancala'. Its dependency 'mancala-game-mancala-domain' was not found. Please, check whether 'mancala-game-mancala-domain' is loaded prior to 'mancala'.");a.mancala=n(typeof mancala>"u"?{}:mancala,this["kotlin-kotlin-stdlib-js-ir"],this["mancala-game-mancala-implementation"],this["mancala-game-mancala-domain"])}})(_i,function(a,n,c,f){"use strict";var y=n.$_$.g,$=c.$_$.a,I=n.$_$.z,Y=n.$_$.l,B=n.$_$.z1,p=n.$_$.k1,rt=n.$_$.o,vt=n.$_$.b,N=n.$_$.i,Ct=n.$_$.p,V=n.$_$.v1,Tt=f.$_$.c,Q=f.$_$.b,ur=f.$_$.a,Qt=f.$_$.d,ut=n.$_$.c1,St=n.$_$.a1,Ft=n.$_$.l1,pt=n.$_$.n1,$t=n.$_$.e1,Lr=n.$_$.f1,mt=n.$_$.u1,Vt=n.$_$.g1,at=n.$_$.d1,Rt=n.$_$.c;Ft(_t,"ObservableState",St),Ft(A,"GameState",St,_t),Ft(Cr,"ObservableValue",Lr),Ft(Or,B,St),Ft(rr,B,St,B,[Cr]);function W(l,m){return l.i7_1.o7(l,ot(),m)}function et(l){return l.i7_1.p7(l,hr())}function Ot(l){return function(m){var M;if(m){var U,P=l.player1Name,F=P??"Player1",H=l.player2Name,J=$(F,H??"Player2",y(6),y(6));I(J),U=J,W(l,U);var k,tt=et(l);if((tt==null?null:tt.i5())===!0)l.player1Message="Player1 always starts just like in chess ...",l.player2Message="Waiting for "+l.player2Name+" to move",k=Y();else{var K=et(l);(K==null?null:K.k5())===!0&&(l.player1Message="Waiting for "+l.player1Name+" to move",l.player2Message="Somehow player2 gets to start today ...",k=Y())}M=k}return Y()}}function A(){_t.call(this),this.i7_1=this.watching_variable(null);var l=this;l.j7_1=this.watching_variable(!1,B,Ot(this)),this.k7_1=this.watching_variable("Player1"),this.l7_1=this.watching_variable("Player2"),this.m7_1=this.watching_variable(null),this.n7_1=this.watching_variable(null)}p(A).q7=function(l){return this.j7_1.o7(this,Et(),l)},p(A).r7=function(){return this.j7_1.p7(this,qr())},p(A).s7=function(l){return this.k7_1.o7(this,Hr(),l)},p(A).t7=function(){return this.k7_1.p7(this,tr())},p(A).u7=function(l){return this.l7_1.o7(this,Ur(),l)},p(A).v7=function(){return this.l7_1.p7(this,Pr())},p(A).w7=function(l){return this.m7_1.o7(this,te(),l)},p(A).x7=function(){return this.m7_1.p7(this,ye())},p(A).y7=function(l){return this.n7_1.o7(this,Er(),l)},p(A).z7=function(){return this.n7_1.p7(this,re())},p(A).a8=function(){var l=et(this),m=l==null?null:l.e5(),M=m==null?null:m.b6(),U;if(M==null)U=null;else{for(var P,F,H=vt(rt(M,10)),J=M.b();J.c();){var k=J.d(),tt,K,L=k.m6();K=N(L),tt=K,H.j(tt)}F=H,P=F,U=P}var Z=U,it;if(Z==null)it=null;else{var Nt;Nt=Ct(Z),it=Nt}var Pt=it,Lt;if(Pt==null){var jt;jt=[],Lt=jt}else Lt=Pt;return Lt},p(A).b8=function(){var l=et(this),m=l==null?null:l.e5(),M=m==null?null:m.c6(),U=M==null?null:M.m6(),P,F=U;if((F==null?null:new V(F))==null)P=null;else{var H;H=N(U),P=H}var J=P;return J??0},p(A).c8=function(){var l=et(this),m=l==null?null:l.f5(),M=m==null?null:m.b6(),U;if(M==null)U=null;else{for(var P,F,H=vt(rt(M,10)),J=M.b();J.c();){var k=J.d(),tt,K,L=k.m6();K=N(L),tt=K,H.j(tt)}F=H,P=F,U=P}var Z=U,it;if(Z==null)it=null;else{var Nt;Nt=Ct(Z),it=Nt}var Pt=it,Lt;if(Pt==null){var jt;jt=[],Lt=jt}else Lt=Pt;return Lt},p(A).d8=function(){var l=et(this),m=l==null?null:l.f5(),M=m==null?null:m.c6(),U=M==null?null:M.m6(),P,F=U;if((F==null?null:new V(F))==null)P=null;else{var H;H=N(U),P=H}var J=P;return J??0},p(A).i5=function(){var l=et(this);return(l==null?null:l.i5())===!0},p(A).k5=function(){var l=et(this);return(l==null?null:l.k5())===!0},p(A).move=function(l){var m=et(this),M=m==null?null:m.n5(),U=M==null?null:M.a6(),P=et(this);I("legal moves for "+U+" is "+(P==null?null:P.h5()));var F=et(this),H=F==null?null:F.n5();I(""+(H==null?null:H.a6())+" moved "+l);var J=et(this),k;if(J==null)k=null;else{var tt;tt=y(l),k=J.o5(tt)}var K=k;if(K==null)console.error("game is null");else if(K instanceof Qt){I(K.d5_1);var L,Z=et(this);if((Z==null?null:Z.i5())===!0?L=K.d5_1.i5():L=!1,L)this.player1Message="Nice move! You get another turn.",this.player2Message="Waiting for "+this.player1Name+", they have another move ...";else{var it,Nt=et(this);(Nt==null?null:Nt.k5())===!0?it=K.d5_1.k5():it=!1,it?(this.player2Message="Nice move! You get another turn.",this.player1Message="Waiting for "+this.player2Name+", they have another move ..."):K.d5_1.i5()?(this.player1Message="It is your turn, "+this.player1Name+".",this.player2Message="Waiting for "+this.player1Name+" ..."):K.d5_1.k5()&&(this.player2Message="It is your turn, "+this.player2Name+".",this.player1Message="Waiting for "+this.player2Name+" ...")}W(this,K.d5_1)}else if(K instanceof ur)I(K.c5_1),K.c5_1.j5()?(this.player1Message="You won the game!",this.player2Message=""+this.player1Name+" won the game."):K.c5_1.l5()?(this.player2Message="You won the game!",this.player1Message=""+this.player2Name+" won the game."):K.c5_1.m5()&&(this.player1Message="Game ended in a draw.",this.player2Message="Game ended in a draw."),W(this,K.c5_1);else if(K instanceof Q){var Pt,Lt=et(this);if((Lt==null?null:Lt.i5())===!0)this.player1Message="That is not a legal move";else{var jt=et(this);(jt==null?null:jt.k5())===!0&&(this.player2Message="That is not a legal move")}Pt="That is not a legal move"}else if(K instanceof Tt){var pr,jr=et(this);if((jr==null?null:jr.i5())===!0)this.player1Message="Nothing to move, pick something else";else{var mr=et(this);(mr==null?null:mr.k5())===!0&&(this.player2Message="Nothing to move, pick something else")}pr="Nothing to move, pick something else"}},ut(p(A),"ready",p(A).r7,p(A).q7),ut(p(A),"player1Name",p(A).t7,p(A).s7),ut(p(A),"player2Name",p(A).v7,p(A).u7),ut(p(A),"player1Message",p(A).x7,p(A).w7),ut(p(A),"player2Message",p(A).z7,p(A).y7),ut(p(A),"player1Cups",p(A).a8),ut(p(A),"player1ScoringCup",p(A).b8),ut(p(A),"player2Cups",p(A).c8),ut(p(A),"player2ScoringCup",p(A).d8),ut(p(A),"player1Turn",p(A).i5),ut(p(A),"player2Turn",p(A).k5);function ot(){return $t("game",1,pt,function(l){return et(l)},function(l,m){return W(l,m)})}function hr(){return $t("game",1,pt,function(l){return et(l)},function(l,m){return W(l,m)})}function Et(){return $t("ready",1,pt,function(l){return l.ready},function(l,m){return l.ready=m})}function qr(){return $t("ready",1,pt,function(l){return l.ready},function(l,m){return l.ready=m})}function Hr(){return $t("player1Name",1,pt,function(l){return l.player1Name},function(l,m){return l.player1Name=m})}function tr(){return $t("player1Name",1,pt,function(l){return l.player1Name},function(l,m){return l.player1Name=m})}function Ur(){return $t("player2Name",1,pt,function(l){return l.player2Name},function(l,m){return l.player2Name=m})}function Pr(){return $t("player2Name",1,pt,function(l){return l.player2Name},function(l,m){return l.player2Name=m})}function te(){return $t("player1Message",1,pt,function(l){return l.player1Message},function(l,m){return l.player1Message=m})}function ye(){return $t("player1Message",1,pt,function(l){return l.player1Message},function(l,m){return l.player1Message=m})}function Er(){return $t("player2Message",1,pt,function(l){return l.player2Message},function(l,m){return l.player2Message=m})}function re(){return $t("player2Message",1,pt,function(l){return l.player2Message},function(l,m){return l.player2Message=m})}function Cr(){}function Or(l,m){l.f8_1=m,m.g8_1.j(l),this.k8_1=l}function rr(l,m,M,U){this.n8_1=m,this.o8_1=M,this.p8_1=U;var P=l;P?.(this),this.l8_1=m,this.m8_1="?"}p(rr).q8=function(l,m){return this.m8_1=m.callableName,this.l8_1},p(rr).p7=function(l,m){return this.q8(Vt(l)?l:mt(),m)},p(rr).r8=function(l,m,M){if(this.m8_1=m.callableName,!at(this.l8_1,M)){this.l8_1=M;var U=this.o8_1.change;U?.(m.callableName,M);for(var P,F=this.o8_1.e8_1,H,J=F.b();J.c();){var k=J.d();k(this.m8_1,this.n8_1)}H=F,P=H,this.o8_1.notifyParents(m,M),this.o8_1.notifyChildren(m,M);var tt=this.p8_1;tt?.(M)}},p(rr).o7=function(l,m,M){var U=Vt(l)?l:mt();return this.r8(U,m,M==null||Vt(M)?M:mt())},p(rr).clear=function(){if(!at(this.l8_1,this.n8_1)){this.l8_1=this.n8_1;var l=this.o8_1.change;l?.(this.m8_1,this.n8_1);for(var m,M=this.o8_1.e8_1,U,P=M.b();P.c();){var F=P.d();F(this.m8_1,this.n8_1)}U=M,m=U;var H=this.p8_1;H?.(this.n8_1)}};function _t(l){l=l===B?null:l,this.change=l;var m=this,M;M=Rt(),m.e8_1=M,this.f8_1=null;var U=this,P;P=Rt(),U.g8_1=P}p(_t).h8=function(l){this.change=l},p(_t).i8=function(){return this.change},p(_t).notifyParents=function(l,m){var M=this.f8_1,U=M==null?null:M.change;U?.(l.callableName,m);var P=this.f8_1,F=P==null?null:P.e8_1;if(F!=null){for(var H,J,k=F.b();k.c();){var tt=k.d();tt(l.callableName,m)}J=F,H=J}var K=this.f8_1;K?.notifyParents(l,m)},p(_t).notifyChildren=function(l,m){for(var M=this.g8_1,U=M.b();U.c();){var P=U.d(),F=P.change;F?.(l.callableName,m);for(var H,J=P.e8_1,k,tt=J.b();tt.c();){var K=tt.d();K(l.callableName,m)}k=J,H=k,P.notifyChildren(l,m)}},p(_t).watching_state=function(l){return new Or(l,this)},p(_t).j8=function(l,m,M){return new rr(m,l,this,M)},p(_t).watching_variable=function(l,m,M,U){return m=m===B?null:m,M=M===B?null:M,this.j8(l,m,M)},p(_t).subscribe=function(l){this.e8_1.j(l)},p(_t).unsubscribe=function(l){this.e8_1.g3(l)};function we(l){var m=l.com||(l.com={}),M=m.mancala||(m.mancala={}),U=M.state||(M.state={});U.GameState=A;var m=l.com||(l.com={}),M=m.mancala||(m.mancala={}),U=M.state||(M.state={});U.ObservableState=_t}return we(a),a})});var bu=La(Hn());var Ua=class extends Map{set(n,c){return super.set(n,c),c}},Ue=class extends WeakMap{set(n,c){return super.set(n,c),c}};var oo=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,so=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/?)>/g,lo=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,co=/[\x01\x02]/g,Vi=(a,n,c)=>{let f=0;return a.join("").trim().replace(so,(y,$,I,Y)=>{let B=$+I.replace(lo,"=$2$1").trimEnd();return Y.length&&(B+=c||oo.test($)?" /":"></"+$),"<"+B+">"}).replace(co,y=>y===""?"<!--"+n+f+++"-->":n+f++)};var fo=({firstChild:a,lastChild:n})=>{let c=document.createRange();return c.setStartAfter(a),c.setEndAfter(n),c.deleteContents(),a},tu=(a,n)=>a.nodeType===111?1/n<0?n?fo(a):a.lastChild:n?a.valueOf():a.firstChild:a,ru=a=>{let{firstChild:n,lastChild:c}=a;if(n===c)return c||a;let{childNodes:f}=a,y=[...f];return{ELEMENT_NODE:1,nodeType:111,firstChild:n,lastChild:c,valueOf(){return f.length!==y.length&&a.append(...y),a}}};var{isArray:eu}=Array,{indexOf:Po,slice:jo}=[];var nu=!1,hi=class{constructor(n,c){nu=!0,this._=(...f)=>n(...f,c)}};var au=a=>n=>{for(let c in n){let f=c==="role"?c:`aria-${c}`,y=n[c];y==null?a.removeAttribute(f):a.setAttribute(f,y)}},iu=(a,n)=>{let c,f=!0,y=document.createAttributeNS(null,n);return $=>{if(c!==$)if(c=$,c==null)f||(a.removeAttributeNode(y),f=!0);else{let I=nu&&$ instanceof hi?$._(a,n):$;I==null?(f||a.removeAttributeNode(y),f=!0):(y.value=I,f&&(a.setAttributeNodeNS(y),f=!1))}}},uu=(a,n,c)=>f=>{c!==!!f&&((c=!!f)?a.setAttribute(n,""):a.removeAttribute(n))},vo=({dataset:a})=>n=>{for(let c in n){let f=n[c];f==null?delete a[c]:a[c]=f}},pi=(a,n)=>{let c,f,y=n.slice(2);return!(n in a)&&(f=n.toLowerCase())in a&&(y=f.slice(2)),$=>{let I=eu($)?$:[$,!1];c!==I[0]&&(c&&a.removeEventListener(y,c,I[1]),(c=I[0])&&a.addEventListener(y,c,I[1]))}},ou=a=>{let n;return c=>{n!==c&&(n=c,typeof c=="function"?c(a):c.current=a)}},su=(a,n)=>n==="dataset"?vo(a):c=>{a[n]=c},lu=a=>{let n;return c=>{n!=c&&(n=c,a.textContent=c??"")}};var cu=(a,n,c,f,y)=>{let $=c.length,I=n.length,Y=$,B=0,p=0,rt=null;for(;B<I||p<Y;)if(I===B){let vt=Y<$?p?f(c[p-1],-0).nextSibling:f(c[Y-p],0):y;for(;p<Y;)a.insertBefore(f(c[p++],1),vt)}else if(Y===p)for(;B<I;)(!rt||!rt.has(n[B]))&&a.removeChild(f(n[B],-1)),B++;else if(n[B]===c[p])B++,p++;else if(n[I-1]===c[Y-1])I--,Y--;else if(n[B]===c[Y-1]&&c[p]===n[I-1]){let vt=f(n[--I],-1).nextSibling;a.insertBefore(f(c[p++],1),f(n[B++],-1).nextSibling),a.insertBefore(f(c[--Y],1),vt),n[I]=c[Y]}else{if(!rt){rt=new Map;let vt=p;for(;vt<Y;)rt.set(c[vt],vt++)}if(rt.has(n[B])){let vt=rt.get(n[B]);if(p<vt&&vt<Y){let N=B,Ct=1;for(;++N<I&&N<Y&&rt.get(n[N])===vt+Ct;)Ct++;if(Ct>vt-p){let V=f(n[B],0);for(;p<vt;)a.insertBefore(f(c[p++],1),V)}else a.replaceChild(f(c[p++],1),f(n[B++],-1))}else B++}else a.removeChild(f(n[B++],-1))}return c};var{isArray:ja,prototype:_o}=Array,{indexOf:fu}=_o;var{createDocumentFragment:ho,createElement:po,createElementNS:mo,createTextNode:vu,createTreeWalker:_u,importNode:hu}=new Proxy(document,{get:(a,n)=>a[n].bind(a)});var go=a=>{let n=po("template");return n.innerHTML=a,n.content},Pa,$o=a=>{Pa||(Pa=mo("http://www.w3.org/2000/svg","svg")),Pa.innerHTML=a;let n=ho();return n.append(...Pa.childNodes),n},pu=(a,n)=>n?$o(a):go(a);var yo=({childNodes:a},n)=>a[n],kn=(a,n,c)=>cu(a.parentNode,n,c,tu,a),wo=a=>{let n,c,f=[],y=$=>{switch(typeof $){case"string":case"number":case"boolean":n!==$&&(n=$,c||(c=vu("")),c.data=$,f=kn(a,f,[c]));break;case"object":case"undefined":if($==null){n!=$&&(n=$,f=kn(a,f,[]));break}if(ja($)){n=$,$.length===0?f=kn(a,f,[]):typeof $[0]=="object"?f=kn(a,f,$):y(String($));break}n!==$&&"ELEMENT_NODE"in $&&(n=$,f=kn(a,f,$.nodeType===11?[...$.childNodes]:[$]));break;case"function":y($(a));break}};return y},bo=(a,n)=>{switch(n[0]){case"?":return uu(a,n.slice(1),!1);case".":return su(a,n.slice(1));case"@":return pi(a,"on"+n.slice(1));case"o":if(n[1]==="n")return pi(a,n)}switch(n){case"ref":return ou(a);case"aria":return au(a)}return iu(a,n)};function mu(a){let{type:n,path:c}=a,f=c.reduceRight(yo,this);return n==="node"?wo(f):n==="attr"?bo(f,a.name):lu(f)}var mi=a=>{let n=[],{parentNode:c}=a;for(;c;)n.push(fu.call(c.childNodes,a)),a=c,{parentNode:c}=a;return n},Yn="is\xB5",gu=new Ue,Io=/^(?:textarea|script|style|title|plaintext|xmp)$/,vn=()=>({stack:[],entry:null,wire:null}),So=(a,n)=>{let{content:c,updates:f}=Co(a,n);return{type:a,template:n,content:c,updates:f,wire:null}},Eo=(a,n)=>{let c=a==="svg",f=Vi(n,Yn,c),y=pu(f,c),$=_u(y,129),I=[],Y=n.length-1,B=0,p=`${Yn}${B}`;for(;B<Y;){let rt=$.nextNode();if(!rt)throw`bad template: ${f}`;if(rt.nodeType===8)rt.data===p&&(I.push({type:"node",path:mi(rt)}),p=`${Yn}${++B}`);else{for(;rt.hasAttribute(p);)I.push({type:"attr",path:mi(rt),name:rt.getAttribute(p)}),rt.removeAttribute(p),p=`${Yn}${++B}`;Io.test(rt.localName)&&rt.textContent.trim()===`<!--${p}-->`&&(rt.textContent="",I.push({type:"text",path:mi(rt)}),p=`${Yn}${++B}`)}}return{content:y,nodes:I}},Co=(a,n)=>{let{content:c,nodes:f}=gu.get(n)||gu.set(n,Eo(a,n)),y=hu(c,!0),$=f.map(mu,y);return{content:y,updates:$}},Zn=(a,{type:n,template:c,values:f})=>{let y=du(a,f),{entry:$}=a;(!$||$.template!==c||$.type!==n)&&(a.entry=$=So(n,c));let{content:I,updates:Y,wire:B}=$;for(let p=0;p<y;p++)Y[p](f[p]);return B||($.wire=ru(I))},du=({stack:a},n)=>{let{length:c}=n;for(let f=0;f<c;f++){let y=n[f];y instanceof Pe?n[f]=Zn(a[f]||(a[f]=vn()),y):ja(y)?du(a[f]||(a[f]=vn()),y):a[f]=null}return c<a.length&&a.splice(c),c},Pe=class{constructor(n,c,f){this.type=n,this.template=c,this.values=f}};var yu=a=>{let n=new Ue,c=f=>(y,...$)=>Zn(f,{type:a,template:y,values:$});return Object.assign((f,...y)=>new Pe(a,f,y),{for(f,y){let $=n.get(f)||n.set(f,new Ua);return $.get(y)||$.set(y,c(vn()))},node:(f,...y)=>Zn(vn(),new Pe(a,f,y)).valueOf()})},$u=new Ue,Jn=(a,n)=>{let c=typeof n=="function"?n():n,f=$u.get(a)||$u.set(a,vn()),y=c instanceof Pe?Zn(f,c):c;return y!==f.wire&&(f.wire=y,a.replaceChildren(y.valueOf())),a},Qr=yu("html"),es=yu("svg");function wu(a,n){Jn(document.querySelector(a),n)}var Oo=La(Hn());function Ra(a){a.observedAttributes.length}function Ba(a,n){customElements.get(a)||customElements.define(a,n)}var gi=class extends HTMLElement{constructor(){super();this.display=()=>{Jn(this.shadowRoot,this.render())};this.attachShadow({mode:"open"})}connected(){}disconnected(){}attributeChangedCallback(c,f,y){this.setValue(c,y),this.display()}connectedCallback(){this.dispatchEvent(new CustomEvent("init",{detail:this})),this.connected(),this.display()}disconnectedCallback(){this.disconnected()}},_n=class extends gi{constructor(){super(...arguments);this.display=()=>{this.state&&Jn(this.shadowRoot,this.render())}}connectedCallback(){if(this.dispatchEvent(new CustomEvent("init",{detail:this})),this.state)this.state.subscribe(this.display);else throw console.error("init for",this,"not passing state"),"missing state";this.connected(),this.display()}disconnectedCallback(){this.state?.unsubscribe(this.display),this.disconnected()}};var No=La(Hn());var Fr=class extends _n{setValue(n,c){switch(console.log("setValue",n,c),n){case"player-1-name":this.state&&(this.state.player1Name=c);break;case"player-2-name":this.state&&(this.state.player2Name=c);break}}render(){return Qr`
            <style>
            
                .boards {
                    display: flex;
                    flex-direction: column;
                    gap: 1rem;
                    margin: 1rem;
                }
                
                .board {
                    display: flex;
                    flex-direction: row;
                    gap: 1rem;
                    justify-content: center;
                }
            
                .player2 {
                    transform: rotate(180deg) ;
                }
                
                .cup {
                    width: 4rem;
                    height: 4rem;
                    border-radius: 50%;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    text-transform: uppercase;
                    font-weight: bold;
                    padding: 1rem;
                   
                    text-decoration: underline;
                }
                
                .cup + .filler { 
                    
                }
                
                .cup + .player {
                    border: 1px solid var(--button-background-color);
                    background-color: var(--button-background-color);
                    color: var(--button-text-color);
                    box-shadow: 0 4px 0-2px rgba(3,3,26,.25);
                }
                
                .cup + .scoring {
                    background-color: white;
                    border: 1px solid var(--button-background-color);
                }
                
                .hoverable:hover {
                    cursor: pointer;
                    background-color: var(--button-background-color-hover);
                }
                
                game {
                   display: block;
                }
                
                game.flipped {
                   transform: rotate(180deg);
               }
                
            </style>
            <game class="${this.state.player2Turn?"flipped":null}">
                <div class="player2">
                    Player2: <strong>${this.state.player2Name}</strong>
                    <div>
                        ${this.state.player2Message}
                    </div>
                </div>
                <div class="${this.state.player1Move?"boards":"boards flipped"}">
                    <div class="player2 board">
                        <div class="cup filler">
                        
                        </div>
                        ${this.state.player2Cups.map((n,c)=>Qr`
                            <div 
                                class="${"cup player "+(this.state.player2Turn?"hoverable":"")}"
                                @click="${f=>{this.state.player2Turn&&this.state.move(c)}}">
                                ${n}
                            </div>
                        `)}
                        <div class="cup scoring">
                            ${this.state.player2ScoringCup}
                        </div>
                    </div>
                    <div class="player1 board">
                        <div class="cup filler">
                        
                        </div>
                        ${this.state.player1Cups.map((n,c)=>Qr`
                            <div 
                                class="${"cup player "+(this.state.player1Turn?"hoverable":"")}"
                                @click="${f=>{this.state.player1Turn&&this.state.move(c)}}">
                                ${n}
                            </div>
                        `)}            
                        <div class="cup scoring">
                            ${this.state.player1ScoringCup}
                        </div>
                    </div>
                </div>
                <div class="player1">
                    Player1: <strong>${this.state.player1Name}</strong> 
                    <div>
                        ${this.state.player1Message}
                    </div>
                <div>
            </game>
        `}};Fr.observedAttributes=["player-1-name","player-2-name"],Fr.register=()=>Ba("mancala-game",Fr),Fr=qa([Ra],Fr);var Ao=La(Hn());var Vr=class extends _n{setValue(n,c){console.log("setValue",n,c)}render(){return Qr`
            <style>
                :host {
                    display: flex;
                    flex-direction: column;
                    flex: 1 1 auto;
                }
                
                :host > form {
                    display: flex;
                    flex-direction: column;
                    flex: 1 1 auto;
                }
                
                :host > form > section {
                    display: flex;
                    flex-direction: column;
                }
                
                :host > form > * + * {
                    margin-top: 1rem;
                }
                
                input {
                    padding: 0.5rem;
                }
                
                button {
                    text-transform: uppercase;
                    font-weight: bold;
                    padding: 1rem;
                    border: 1px solid var(--button-background-color);
                    background-color: var(--button-background-color);
                    border-radius: var(--radius);
                    color: var(--button-text-color);
                    box-shadow: 0 4px 0-2px rgba(3,3,26,.25)
                }
                
                button:hover {
                    cursor: pointer;
                    background-color: var(--button-background-color-hover);
                }
                
            </style>
            <form>
                <section>
                    <label>
                        Player one name:
                    </label>
                    <input 
                        @input="${n=>{n.target instanceof HTMLInputElement&&(this.state.player1Name=n.target.value)}}"
                        type="text" 
                        value="${this.state.player1Name}">
                </section>
                <section>
                    <label>
                        Player two name:
                    </label>       
                    <input type="text"
                        @input="${n=>{n.target instanceof HTMLInputElement&&(this.state.player2Name=n.target.value)}}"
                        value="${this.state.player2Name}">
                </section>
                <button
                    @click="${()=>{this.state.ready=!0}}">
                    Start
                </button>
            </form>
        `}};Vr.observedAttributes=["player-1-name","player-2-name","number-of-cups","stones-per-cup"],Vr.register=()=>Ba("new-game",Vr),Vr=qa([Ra],Vr);var Mo=bu.com.mancala.state.GameState,ie=new Mo;ie.ready=!0;document.game=ie;Vr.register();Fr.register();ie.change=(a,n)=>{console.log(`${a} changed to `,n),wu("main",Qr`
        ${ie.ready?Qr`
            <mancala-game
                player-1-name="${ie?.player1Name}"
                player-2-name="${ie?.player2Name}"    
                @init="${c=>{c.detail.state=ie}}"
            />
        `:Qr`
            <new-game
                @init="${c=>{c.detail.state=ie}}"
            />
        `}
        
    `)};ie.change("init","game");})();
/*! (c) Andrea Giammarchi - ISC */
//# sourceMappingURL=main.js.map
